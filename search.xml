<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[remission åºåˆ—åŒ–é—®é¢˜è¿½è¸ª]]></title>
    <url>%2F2019%2F05%2F28%2Fred%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯é¡¹ç›®åŽŸæœ¬æ˜¯ç”¨jedisè¿žæŽ¥redisï¼Œä½†è€ƒè™‘åˆ°éœ€è¦ç”¨redisé”ï¼Œå› æ­¤æ›¿æ¢ä¸ºæ–¹ä¾¿å¿«æ·çš„redissonï¼Œä½†æ˜¯ä½¿ç”¨redissonä¹‹åŽä¼šæŠ¥decode errorï¼Œå…·ä½“ä¿¡æ¯å¦‚ä¸‹ï¼š 12345678910112019-05-15 13:39:59.973 [redisson-netty-2-3] ERROR o.r.c.h.CommandDecoder [decodeCommand:203] - Unable to decode data. channel: [id: 0x477c5ced, L:/192.168.4.94:57423 - R:10.10.10.43/10.10.10.43:6379], reply: ReplayingDecoderByteBuf(ridx=102, widx=102), command: (GET), params: [Geek:xxxxx:xxxx]java.io.IOException: java.lang.NullPointerException at org.nustaq.serialization.FSTObjectInput.readObject(FSTObjectInput.java:247) at org.redisson.codec.FstCodec$1.decode(FstCodec.java:228) at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:368) at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:200) at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:140) at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:115) at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:502) at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366) at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278) æµ‹è¯•ä»£ç 12RBucket ste = redissonClient.getBucket("Geek:add:ddd");Object re = ste.get(); è€ƒè™‘å¯èƒ½æ˜¯ç”±äºŽåºåˆ—åŒ–äº§ç”Ÿçš„é—®é¢˜ï¼ŒæŸ¥åˆ°NullPointer 3.10.6ï¼Œè®¾ç½®codecä¸ºStringCodecï¼Œå³ 1redissonClient.getConfig().setCodec(new StringCodec()); ä½†æ˜¯å¹¶æœªè§£å†³é—®é¢˜ï¼Œredissonä»ç„¶ä½¿ç”¨é»˜è®¤çš„FstCodecï¼Œé€šè¿‡ideaå¼ºå¤§çš„æç¤ºåŠŸèƒ½å¯ä»¥çœ‹åˆ° getBucketæŽ¥å—ä¸€ä¸ªcodecå‚æ•° ä¿®æ”¹ä»£ç ä¸º 12RBucket ste = redissonClient.getBucket("Geek:add:ddd", new StringCodec());String re = ste.get(); å®Œç¾Žè§£å†³ é—®é¢˜ä¸ºä»€ä¹ˆç›´æŽ¥è®¾ç½®redisson config ä¸ç”Ÿæ•ˆå‘¢ï¼Œä¸€æ­¥æ­¥æŸ¥æºç  RedissonObject#RedissonObject 123public RedissonObject(CommandAsyncExecutor commandExecutor, String name) &#123; this(commandExecutor.getConnectionManager().getCodec(), commandExecutor, name);&#125; å¯ä»¥çœ‹å‡ºredisson é»˜è®¤ä»ŽConnectionManageré‡ŒèŽ·å–codecæ–¹å¼ï¼Œç»§ç»­çœ‹ï¼Œä»¥ SingleConnectionManager ä¸ºä¾‹ï¼ŒSingleConnectionManageræ˜¯MasterSlaveConnectionManagerçš„å­ç±»ï¼Œå…·ä½“çš„ç±»å›¾å…³ç³» config.java 12345678public Config(Config oldConf) &#123; setExecutor(oldConf.getExecutor()); if (oldConf.getCodec() == null) &#123; // use it by default oldConf.setCodec(new FstCodec()); &#125;...... &#125; å³æ£€æµ‹åˆ°åŽŸæœ‰codecä¸ºç©ºæ—¶ï¼Œåˆ™è®¾ç½®ä¸ºFstCodec çœ‹ä¸€ä¸‹ Redisson.java é…ç½®å…³é”®éƒ¨åˆ†ä»£ç  12345678910111213141516protected Redisson(Config config) &#123; this.config = config; Config configCopy = new Config(config); connectionManager = ConfigSupport.createConnectionManager(configCopy); evictionScheduler = new EvictionScheduler(connectionManager.getCommandExecutor()); writeBehindService = new WriteBehindService(connectionManager.getCommandExecutor());&#125; public static RedissonClient create(Config config) &#123; Redisson redisson = new Redisson(config); if (config.isReferenceEnabled()) &#123; redisson.enableRedissonReferenceSupport(); &#125; return redisson;&#125; å¯ä»¥çœ‹å‡ºï¼Œ configæ˜¯åœ¨redissonåˆå§‹åŒ–çš„æ—¶å€™ä¼ å…¥çš„ å› ä¸ºæˆ‘ç”¨çš„æ˜¯redisson-spring-boot-starterï¼Œçœ‹ä¸€ä¸‹è¿™ä¸ªstarteré‡Œé¢ï¼Œæ˜¯å¦‚ä½•åˆå§‹åŒ–çš„ï¼Œredisson starter é»˜è®¤ä½¿ç”¨ spring-data-redis é…ç½®ã€‚ 123456789101112131415161718192021222324@Bean(destroyMethod = "shutdown") @ConditionalOnMissingBean(RedissonClient.class) public RedissonClient redisson() throws IOException &#123; Config config = null; .... if (redissonProperties.getConfig() != null) &#123; .... &#125; else &#123; config = new Config(); String prefix = "redis://"; Method method = ReflectionUtils.findMethod(RedisProperties.class, "isSsl"); if (method != null &amp;&amp; (Boolean)ReflectionUtils.invokeMethod(method, redisProperties)) &#123; prefix = "rediss://"; &#125; config.useSingleServer() .setAddress(prefix + redisProperties.getHost() + ":" + redisProperties.getPort()) .setConnectTimeout(timeout) .setDatabase(redisProperties.getDatabase()) .setPassword(redisProperties.getPassword()); &#125; return Redisson.create(config); å›žåˆ°ä¸€å¼€å§‹çš„é—®é¢˜ï¼Œç›´æŽ¥è®¾ç½®redisson codecä¸ºä»€ä¹ˆä¸ç”Ÿæ•ˆï¼Ÿä»”ç»†ä»¥ä¸Šåˆ†æžå¯ä»¥çŸ¥é“ï¼Œredissonç»Ÿä¸€è®¾ç½®codecä¸»è¦æ˜¯é€šè¿‡åˆå§‹åŒ–çš„æ—¶å€™ä¼ å…¥ConnectionManagerä½¿ codecç”Ÿæ•ˆï¼Œè€Œé€šè¿‡ redissonClient.getConfig().setCodec(...)çš„æ–¹å¼å¹¶ä¸èƒ½æ”¹å˜ConnectionManagerä¸­çš„ç¼–ç æ–¹å¼ã€‚ ç»“è®ºï¼š å¦‚æžœæƒ³è‡ªå®šä¹‰codecï¼Œéœ€è¦è‡ªå·±åˆå§‹åŒ–redissonClient[è°ƒç”¨Redisson.create(config)]ï¼Œ æˆ–è€…é‡å†™redisson-starter åœ¨å®šåˆ¶åŒ–ç¨‹åº¦ä¸é«˜æ—¶ï¼Œå¯ç›´æŽ¥ä½¿ç”¨é»˜è®¤codecï¼Œæˆ–è€…æŠŠç‰¹å®šçš„codecä¼ å…¥æ–¹æ³•ä½“å†… Reference]]></content>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®æœåŠ¡æž¶æž„BFFå’Œç½‘å…³]]></title>
    <url>%2F2018%2F09%2F05%2F%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84BFF%E5%92%8C%E7%BD%91%E5%85%B3%2F</url>
    <content type="text"><![CDATA[BFF æž¶æž„å›¾ BFF(Backend for Frontend)ä¹Ÿç§°èšåˆå±‚æˆ–è€…é€‚é…å±‚ï¼Œä¸Šè¿°æž¶æž„ä»Žå¤–åˆ°å†…ä¾æ¬¡ä¸º ç«¯ç”¨æˆ·ä½“éªŒå±‚-&gt;ç½‘å…³å±‚-&gt;BFFå±‚-&gt;å¾®æœåŠ¡å±‚ï¼Œä¸»è¦æ˜¯è®²å†…éƒ¨å¤æ‚çš„å¾®æœåŠ¡ï¼Œé€‚é…æˆå¯¹å„ç§ä¸åŒçš„ç”¨æˆ·ä½“éªŒã€‚ç½‘å…³ä¸“æ³¨è§£å†³è·¨æ¨ªåˆ‡é¢é€»è¾‘ï¼ŒåŒ…æ‹¬è·¯ç”±ã€å®‰å…¨ã€ç›‘æŽ§å’Œé™æµç†”æ–­ç­‰ã€‚ ä¸ºæé«˜ç³»ç»Ÿçš„çµæ´»æ€§ï¼Œåœ¨ç½‘å…³å±‚å’Œå¾®æœåŠ¡å±‚ä¹‹é—´æž„å»ºBFFå±‚ï¼Œè¿™é‡Œä¸»è¦ä½¿ç”¨GraphQL æž„å»ºBFFå±‚ã€‚ GraphQL ç‰¹ç‚¹ï¼š å®šä¹‰æ•°æ®æ¨¡åž‹ï¼šæŒ‰éœ€èŽ·å– æ•°æ®åˆ†å±‚ï¼šé€šè¿‡æ•°æ®åˆ†å±‚å¯ä»¥å‡å°‘å®¢æˆ·ç«¯è¯·æ±‚æ¬¡æ•° 123456789101112&#123; user(id:1001) &#123; // ç¬¬ä¸€å±‚ name, friends &#123; // ç¬¬äºŒå±‚ name, addr &#123; // ç¬¬ä¸‰å±‚ country, city &#125; &#125; &#125;&#125; å¼ºç±»åž‹ 1234567const Meeting = new GraphQLObjectType(&#123; name: 'Meeting', fields: () =&gt; (&#123; meetingId: &#123;type: new GraphQLNonNull(GraphQLString)&#125;, meetingStatus: &#123;type: new GraphQLNonNull(GraphQLString), defaultValue: ''&#125; &#125;)&#125;) GraphQL çš„ç±»åž‹ç³»ç»Ÿå®šä¹‰äº†åŒ…æ‹¬ Int, Float, String, Boolean, ID, Object, List, Non-Null ç­‰æ•°æ®ç±»åž‹ã€‚æ‰€ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåˆ©ç”¨å¼ºå¤§çš„å¼ºç±»åž‹æ£€æŸ¥ï¼Œèƒ½å¤Ÿå¤§å¤§èŠ‚çœå¼€å‘çš„æ—¶é—´ï¼ŒåŒæ—¶ä¹Ÿå¾ˆæ–¹ä¾¿å‰åŽç«¯è¿›è¡Œè°ƒè¯•ã€‚ åè®®è€Œéžå­˜å‚¨ï¼šGraphQL æœ¬èº«å¹¶ä¸ç›´æŽ¥æä¾›åŽç«¯å­˜å‚¨çš„èƒ½åŠ›ï¼Œä¸ç»‘å®šä»»ä½•çš„æ•°æ®åº“æˆ–è€…å­˜å‚¨å¼•æ“Žã€‚ æ— éœ€ç‰ˆæœ¬åŒ– 1234567891011121314const PhotoType = new GraphQLObjectType(&#123; name: 'Photo', fields: () =&gt; (&#123; photoId: &#123;type: new GraphQLNonNull(GraphQLID)&#125;, file: &#123; type: new GraphQLNonNull(FileType), deprecationReason: 'FileModel should be removed after offline app code merged.', resolve: (parent) =&gt; &#123; return parent.file &#125; &#125;, fileId: &#123;type: new GraphQLNonNull(GraphQLID)&#125; &#125;)&#125;) GraphQL æœåŠ¡ç«¯èƒ½å¤Ÿé€šè¿‡æ·»åŠ  deprecationReasonï¼Œè‡ªåŠ¨å°†æŸä¸ªå­—æ®µæ ‡æ³¨ä¸ºå¼ƒç”¨çŠ¶æ€ã€‚å¹¶ä¸”åŸºäºŽ GraphQL é«˜åº¦çš„å¯æ‰©å±•æ€§ï¼Œå¦‚æžœä¸éœ€è¦æŸä¸ªæ•°æ®ï¼Œé‚£ä¹ˆåªéœ€è¦ä½¿ç”¨æ–°çš„å­—æ®µæˆ–è€…ç»“æž„å³å¯ï¼Œè€çš„å¼ƒç”¨å­—æ®µç»™è€çš„å®¢æˆ·ç«¯æä¾›æœåŠ¡ï¼Œæ‰€æœ‰æ–°çš„å®¢æˆ·ç«¯ä½¿ç”¨æ–°çš„å­—æ®µèŽ·å–ç›¸å…³ä¿¡æ¯ã€‚å¹¶ä¸”è€ƒè™‘åˆ°æ‰€æœ‰çš„ graphql è¯·æ±‚ï¼Œéƒ½æ˜¯æŒ‰ç…§ POST /graphql å‘é€è¯·æ±‚ï¼Œæ‰€ä»¥åœ¨ GraphQL ä¸­æ˜¯æ— é¡»è¿›è¡Œç‰ˆæœ¬åŒ–çš„ã€‚ GraphQL ä¸Ž Rest æ•°æ®èŽ·å–ï¼šRest ç¼ºä¹å¯æ‰©å±•æ€§ï¼ŒGraphQLèƒ½å¤ŸæŒ‰éœ€èŽ·å–ï¼› APIè°ƒç”¨ï¼šRESTé’ˆå¯¹æ¯ç§èµ„æºçš„æ“ä½œéƒ½æ˜¯ä¸€ä¸ªendpointï¼ŒGraphQLåªéœ€è¦ä¸€ä¸ªendpointï¼› å¤æ‚æ•°æ®è¯·æ±‚ï¼šRESTå¯¹äºŽåµŒå¥—çš„å¤æ‚æ•°æ®éœ€è¦å¤šæ¬¡è°ƒç”¨ï¼ŒGraphQL ä¸€æ¬¡è°ƒç”¨ï¼Œå‡å°‘ç½‘ç»œå¼€é”€ï¼› é”™è¯¯ç å¤„ç†ï¼šRESTèƒ½å¤Ÿç²¾ç¡®è¿”å›žHTTPé”™è¯¯ç ï¼ŒGraphQLç»Ÿä¸€è¿”å›ž200ï¼Œå¯¹é”™è¯¯ä¿¡æ¯è¿›è¡ŒåŒ…è£…ï¼› ç‰ˆæœ¬å·ï¼šRESTé€šè¿‡v1/v2å®žçŽ°ï¼ŒGraphé€šè¿‡Schemaæ‰©å±•å®žçŽ°ã€‚ BFF ç«¯æŠ€æœ¯æ ˆ å¾®æœåŠ¡ä¸‹ä½¿ç”¨GraphQLæž„å»ºBFFä¸­ä½¿ç”¨nodeä½œä¸ºBFFä¸»è¦æ¡†æž¶ï¼Œå› è‡ªå·±å¯¹nodeä¸å¤ªç†Ÿæ‚‰ï¼Œä¼šå°½é‡é‡‡ç”¨javaæ¥å®žçŽ°ç›¸åº”çš„åŠŸèƒ½ã€‚GraphQL ä½¿ç”¨ query å’Œ mutation å®žçŽ°CQRSã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[ã€è¯‘ã€‘Spring Boot @PropertySource è¯»å– YAML æ–‡ä»¶]]></title>
    <url>%2F2018%2F08%2F31%2FSpring%20Boot%20%40PropertySource%20%E8%AF%BB%E5%8F%96%20YAML%20%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[Spring Boot é»˜è®¤ä¸æ”¯æŒ@PropertySourceè¯»å–yaml æ–‡ä»¶ï¼Œè¿™ä¹Ÿæ˜¯Stackoverflow ä¸Šç»å¸¸ç»™äºˆçš„æ ‡å‡†ç­”æ¡ˆã€‚ Spring 4.3 é€šè¿‡å¼•å…¥ PropertySourceFactory æŽ¥å£ä½¿ä¹‹æˆä¸ºå¯èƒ½ã€‚PropertySourceFactory æ˜¯PropertySource çš„å·¥åŽ‚ç±»ã€‚é»˜è®¤å®žçŽ°æ˜¯ DefaultPropertySourceFactoryï¼Œå¯ä»¥æž„é€ ResourcePropertySource å®žä¾‹ã€‚ å¯ä»¥é€šè¿‡æ™®é€šçš„æ˜¯å®žçŽ°æž„é€  createPropertySourceï¼Œ éœ€è¦åšä¸¤ç‚¹: å¯¼å…¥resource åˆ°Properties å¯¹è±¡ã€‚ æž„é€  PropertySource ä½¿ç”¨Propertiesã€‚ å…·ä½“ä¾‹å­ï¼š 1234567891011121314151617181920212223public class YamlPropertySourceFactory implements PropertySourceFactory &#123; @Override public PropertySource&lt;?&gt; createPropertySource(@Nullable String name, EncodedResource resource) throws IOException &#123; Properties propertiesFromYaml = loadYamlIntoProperties(resource); String sourceName = name != null ? name : resource.getResource().getFilename(); return new PropertiesPropertySource(sourceName, propertiesFromYaml); &#125; private Properties loadYamlIntoProperties(EncodedResource resource) throws FileNotFoundException &#123; try &#123; YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean(); factory.setResources(resource.getResource()); factory.afterPropertiesSet(); return factory.getObject(); &#125; catch (IllegalStateException e) &#123; // for ignoreResourceNotFound Throwable cause = e.getCause(); if (cause instanceof FileNotFoundException) throw (FileNotFoundException) e.getCause(); throw e; &#125; &#125;&#125; æ³¨æ„ï¼šYAML éœ€è¦ SnakeYAML 1.18 æˆ–è€…æ›´é«˜ç‰ˆæœ¬ã€‚ @PropertySource æ³¨è§£æœ‰ä¸€ä¸ª factory å±žæ€§ï¼Œé€šè¿‡è¿™ä¸ªå±žæ€§æ¥æ³¨å…¥ PropertySourceFactoryï¼Œè¿™é‡Œç»™å‡º YamlPropertySourceFactoryçš„ä¾‹å­ã€‚ 123456789101112131415@SpringBootApplication@PropertySource(factory = YamlPropertySourceFactory.class, value = "classpath:blog.yaml")public class YamlPropertysourceApplication &#123; public static void main(String[] args) &#123; ConfigurableApplicationContext ctx = SpringApplication.run(YamlPropertysourceApplication.class, args); ConfigurableEnvironment env = ctx.getEnvironment(); env.getPropertySources() .forEach(ps -&gt; System.out.println(ps.getName() + " : " + ps.getClass())); System.out.println("Value of `foo.bar` = " + env.getProperty("foo.bar")); &#125;&#125; æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨çš„æ˜¯Spring Bootï¼Œä½†æ˜¯å¯¹äºŽSpring 4.3 åŠå…¶ä»¥ä¸Šç‰ˆæœ¬åŒæ ·é€‚ç”¨ã€‚ ç¿»è¯‘æ‹™åŠ£ï¼Œæ¬¢è¿ŽæŒ‡æ­£ã€‚ reference: Use @PropertySource with YAML files]]></content>
      <tags>
        <tag>spring boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL Explainè¯¦è§£]]></title>
    <url>%2F2018%2F08%2F08%2FMySQL%20Explain%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[æ—¥å¸¸å·¥ä½œä¸­ä¸»è¦ç”¨explainæ¥æŸ¥çœ‹sqlè¯­å¥çš„æ‰§è¡Œè®¡åˆ’ï¼Œæ·±å…¥äº†è§£æ˜¯å¦éœ€è¦ä¼˜åŒ–ï¼Œå·²ç»ç´¢å¼•ç­‰ä¿¡æ¯ã€‚ æ‰§è¡Œexplainå‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªQEP(query execution plan) 1234567mysql&gt; explain select * from servers;+----+-------------+---------+------+---------------+------+---------+------+------+-------+| id | select_type | table | type | possible_keys | key | key_len | ref | rows | Extra |+----+-------------+---------+------+---------------+------+---------+------+------+-------+| 1 | SIMPLE | servers | ALL | NULL | NULL | NULL | NULL | 1 | NULL |+----+-------------+---------+------+---------------+------+---------+------+------+-------+row in set (0.03 sec) ä¸€ã€ id â€‹ æˆ‘çš„ç†è§£æ˜¯SQLæ‰§è¡Œçš„é¡ºåºçš„æ ‡è¯†,SQLä»Žå¤§åˆ°å°çš„æ‰§è¡Œ idç›¸åŒæ—¶ï¼Œæ‰§è¡Œé¡ºåºç”±ä¸Šè‡³ä¸‹ å¦‚æžœæ˜¯å­æŸ¥è¯¢ï¼Œidçš„åºå·ä¼šé€’å¢žï¼Œidå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆè¢«æ‰§è¡Œ 3.idå¦‚æžœç›¸åŒï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç»„ï¼Œä»Žä¸Šå¾€ä¸‹é¡ºåºæ‰§è¡Œï¼›åœ¨æ‰€æœ‰ç»„ä¸­ï¼Œidå€¼è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆæ‰§è¡Œ äºŒã€select_type â€‹ ç¤ºæŸ¥è¯¢ä¸­æ¯ä¸ªselectå­å¥çš„ç±»åž‹ (1) SIMPLE(ç®€å•SELECT,ä¸ä½¿ç”¨UNIONæˆ–å­æŸ¥è¯¢ç­‰) (2) PRIMARY(æŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­éƒ¨åˆ†,æœ€å¤–å±‚çš„selectè¢«æ ‡è®°ä¸ºPRIMARY) (3) UNION(UNIONä¸­çš„ç¬¬äºŒä¸ªæˆ–åŽé¢çš„SELECTè¯­å¥) (4) DEPENDENT UNION(UNIONä¸­çš„ç¬¬äºŒä¸ªæˆ–åŽé¢çš„SELECTè¯­å¥ï¼Œå–å†³äºŽå¤–é¢çš„æŸ¥è¯¢) (5) UNION RESULT(UNIONçš„ç»“æžœ) (6) SUBQUERY(å­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ªSELECT) (7) DEPENDENT SUBQUERY(å­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ªSELECTï¼Œå–å†³äºŽå¤–é¢çš„æŸ¥è¯¢) (8) DERIVED(æ´¾ç”Ÿè¡¨çš„SELECT, FROMå­å¥çš„å­æŸ¥è¯¢) (9) UNCACHEABLE SUBQUERY(ä¸€ä¸ªå­æŸ¥è¯¢çš„ç»“æžœä¸èƒ½è¢«ç¼“å­˜ï¼Œå¿…é¡»é‡æ–°è¯„ä¼°å¤–é“¾æŽ¥çš„ç¬¬ä¸€è¡Œ) ä¸‰ã€table æ˜¾ç¤ºè¿™ä¸€è¡Œçš„æ•°æ®æ˜¯å…³äºŽå“ªå¼ è¡¨çš„ï¼Œæœ‰æ—¶ä¸æ˜¯çœŸå®žçš„è¡¨åå­—,çœ‹åˆ°çš„æ˜¯derivedx(xæ˜¯ä¸ªæ•°å­—,æˆ‘çš„ç†è§£æ˜¯ç¬¬å‡ æ­¥æ‰§è¡Œçš„ç»“æžœ) 12345678mysql&gt; explain select * from (select * from ( select * from t1 where id=2602) a) b;+----+-------------+------------+--------+-------------------+---------+---------+------+------+-------+| id | select_type | table | type | possible_keys | key | key_len | ref | rows | Extra |+----+-------------+------------+--------+-------------------+---------+---------+------+------+-------+| 1 | PRIMARY | &lt;derived2&gt; | system | NULL | NULL | NULL | NULL | 1 | || 2 | DERIVED | &lt;derived3&gt; | system | NULL | NULL | NULL | NULL | 1 | || 3 | DERIVED | t1 | const | PRIMARY,idx_t1_id | PRIMARY | 4 | | 1 | |+----+-------------+------------+--------+-------------------+---------+---------+------+------+-------+ å››ã€type è¡¨ç¤ºMySQLåœ¨è¡¨ä¸­æ‰¾åˆ°æ‰€éœ€è¡Œçš„æ–¹å¼ï¼Œåˆç§°â€œè®¿é—®ç±»åž‹â€ã€‚ å¸¸ç”¨çš„ç±»åž‹æœ‰ï¼š ALL, index, range, ref, eq_ref, const, system, NULLï¼ˆä»Žå·¦åˆ°å³ï¼Œæ€§èƒ½ä»Žå·®åˆ°å¥½ï¼‰ ALLï¼šFull Table Scanï¼Œ MySQLå°†éåŽ†å…¨è¡¨ä»¥æ‰¾åˆ°åŒ¹é…çš„è¡Œ index: Full Index Scanï¼Œindexä¸ŽALLåŒºåˆ«ä¸ºindexç±»åž‹åªéåŽ†ç´¢å¼•æ ‘ range:åªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œ ref: è¡¨ç¤ºä¸Šè¿°è¡¨çš„è¿žæŽ¥åŒ¹é…æ¡ä»¶ï¼Œå³å“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºŽæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼ eq_ref: ç±»ä¼¼refï¼ŒåŒºåˆ«å°±åœ¨ä½¿ç”¨çš„ç´¢å¼•æ˜¯å”¯ä¸€ç´¢å¼•ï¼Œå¯¹äºŽæ¯ä¸ªç´¢å¼•é”®å€¼ï¼Œè¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•åŒ¹é…ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¤šè¡¨è¿žæŽ¥ä¸­ä½¿ç”¨primary keyæˆ–è€… unique keyä½œä¸ºå…³è”æ¡ä»¶ constã€system: å½“MySQLå¯¹æŸ¥è¯¢æŸéƒ¨åˆ†è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶è½¬æ¢ä¸ºä¸€ä¸ªå¸¸é‡æ—¶ï¼Œä½¿ç”¨è¿™äº›ç±»åž‹è®¿é—®ã€‚å¦‚å°†ä¸»é”®ç½®äºŽwhereåˆ—è¡¨ä¸­ï¼ŒMySQLå°±èƒ½å°†è¯¥æŸ¥è¯¢è½¬æ¢ä¸ºä¸€ä¸ªå¸¸é‡,systemæ˜¯constç±»åž‹çš„ç‰¹ä¾‹ï¼Œå½“æŸ¥è¯¢çš„è¡¨åªæœ‰ä¸€è¡Œçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨system NULL: MySQLåœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­åˆ†è§£è¯­å¥ï¼Œæ‰§è¡Œæ—¶ç”šè‡³ä¸ç”¨è®¿é—®è¡¨æˆ–ç´¢å¼•ï¼Œä¾‹å¦‚ä»Žä¸€ä¸ªç´¢å¼•åˆ—é‡Œé€‰å–æœ€å°å€¼å¯ä»¥é€šè¿‡å•ç‹¬ç´¢å¼•æŸ¥æ‰¾å®Œæˆã€‚ äº”ã€possible_keys æŒ‡å‡ºMySQLèƒ½ä½¿ç”¨å“ªä¸ªç´¢å¼•åœ¨è¡¨ä¸­æ‰¾åˆ°è®°å½•ï¼ŒæŸ¥è¯¢æ¶‰åŠåˆ°çš„å­—æ®µä¸Šè‹¥å­˜åœ¨ç´¢å¼•ï¼Œåˆ™è¯¥ç´¢å¼•å°†è¢«åˆ—å‡ºï¼Œä½†ä¸ä¸€å®šè¢«æŸ¥è¯¢ä½¿ç”¨ è¯¥åˆ—å®Œå…¨ç‹¬ç«‹äºŽEXPLAINè¾“å‡ºæ‰€ç¤ºçš„è¡¨çš„æ¬¡åºã€‚è¿™æ„å‘³ç€åœ¨possible_keysä¸­çš„æŸäº›é”®å®žé™…ä¸Šä¸èƒ½æŒ‰ç”Ÿæˆçš„è¡¨æ¬¡åºä½¿ç”¨ã€‚å¦‚æžœè¯¥åˆ—æ˜¯NULLï¼Œåˆ™æ²¡æœ‰ç›¸å…³çš„ç´¢å¼•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡æ£€æŸ¥WHEREå­å¥çœ‹æ˜¯å¦å®ƒå¼•ç”¨æŸäº›åˆ—æˆ–é€‚åˆç´¢å¼•çš„åˆ—æ¥æé«˜ä½ çš„æŸ¥è¯¢æ€§èƒ½ã€‚å¦‚æžœæ˜¯è¿™æ ·ï¼Œåˆ›é€ ä¸€ä¸ªé€‚å½“çš„ç´¢å¼•å¹¶ä¸”å†æ¬¡ç”¨EXPLAINæ£€æŸ¥æŸ¥è¯¢ å…­ã€Key keyåˆ—æ˜¾ç¤ºMySQLå®žé™…å†³å®šä½¿ç”¨çš„é”®ï¼ˆç´¢å¼•ï¼‰ å¦‚æžœæ²¡æœ‰é€‰æ‹©ç´¢å¼•ï¼Œé”®æ˜¯NULLã€‚è¦æƒ³å¼ºåˆ¶MySQLä½¿ç”¨æˆ–å¿½è§†possible_keysåˆ—ä¸­çš„ç´¢å¼•ï¼Œåœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨FORCE INDEXã€USE INDEXæˆ–è€…IGNORE INDEXã€‚ ä¸ƒã€key_len è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œå¯é€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦ï¼ˆkey_lenæ˜¾ç¤ºçš„å€¼ä¸ºç´¢å¼•å­—æ®µçš„æœ€å¤§å¯èƒ½é•¿åº¦ï¼Œå¹¶éžå®žé™…ä½¿ç”¨é•¿åº¦ï¼Œå³key_lenæ˜¯æ ¹æ®è¡¨å®šä¹‰è®¡ç®—è€Œå¾—ï¼Œä¸æ˜¯é€šè¿‡è¡¨å†…æ£€ç´¢å‡ºçš„ï¼‰ ä¸æŸå¤±ç²¾ç¡®æ€§çš„æƒ…å†µä¸‹ï¼Œé•¿åº¦è¶ŠçŸ­è¶Šå¥½ å…«ã€ref è¡¨ç¤ºä¸Šè¿°è¡¨çš„è¿žæŽ¥åŒ¹é…æ¡ä»¶ï¼Œå³å“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºŽæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼ ä¹ã€rows è¡¨ç¤ºMySQLæ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•é€‰ç”¨æƒ…å†µï¼Œä¼°ç®—çš„æ‰¾åˆ°æ‰€éœ€çš„è®°å½•æ‰€éœ€è¦è¯»å–çš„è¡Œæ•° åã€Extra è¯¥åˆ—åŒ…å«MySQLè§£å†³æŸ¥è¯¢çš„è¯¦ç»†ä¿¡æ¯,æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š Using where:åˆ—æ•°æ®æ˜¯ä»Žä»…ä»…ä½¿ç”¨äº†ç´¢å¼•ä¸­çš„ä¿¡æ¯è€Œæ²¡æœ‰è¯»å–å®žé™…çš„è¡ŒåŠ¨çš„è¡¨è¿”å›žçš„ï¼Œè¿™å‘ç”Ÿåœ¨å¯¹è¡¨çš„å…¨éƒ¨çš„è¯·æ±‚åˆ—éƒ½æ˜¯åŒä¸€ä¸ªç´¢å¼•çš„éƒ¨åˆ†çš„æ—¶å€™ï¼Œè¡¨ç¤ºmysqlæœåŠ¡å™¨å°†åœ¨å­˜å‚¨å¼•æ“Žæ£€ç´¢è¡ŒåŽå†è¿›è¡Œè¿‡æ»¤ Using temporaryï¼šè¡¨ç¤ºMySQLéœ€è¦ä½¿ç”¨ä¸´æ—¶è¡¨æ¥å­˜å‚¨ç»“æžœé›†ï¼Œå¸¸è§äºŽæŽ’åºå’Œåˆ†ç»„æŸ¥è¯¢ Using filesortï¼šMySQLä¸­æ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆçš„æŽ’åºæ“ä½œç§°ä¸ºâ€œæ–‡ä»¶æŽ’åºâ€ Using join bufferï¼šæ”¹å€¼å¼ºè°ƒäº†åœ¨èŽ·å–è¿žæŽ¥æ¡ä»¶æ—¶æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œå¹¶ä¸”éœ€è¦è¿žæŽ¥ç¼“å†²åŒºæ¥å­˜å‚¨ä¸­é—´ç»“æžœã€‚å¦‚æžœå‡ºçŽ°äº†è¿™ä¸ªå€¼ï¼Œé‚£åº”è¯¥æ³¨æ„ï¼Œæ ¹æ®æŸ¥è¯¢çš„å…·ä½“æƒ…å†µå¯èƒ½éœ€è¦æ·»åŠ ç´¢å¼•æ¥æ”¹è¿›èƒ½ã€‚ Impossible whereï¼šè¿™ä¸ªå€¼å¼ºè°ƒäº†whereè¯­å¥ä¼šå¯¼è‡´æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„è¡Œã€‚ Select tables optimized awayï¼šè¿™ä¸ªå€¼æ„å‘³ç€ä»…é€šè¿‡ä½¿ç”¨ç´¢å¼•ï¼Œä¼˜åŒ–å™¨å¯èƒ½ä»…ä»Žèšåˆå‡½æ•°ç»“æžœä¸­è¿”å›žä¸€è¡Œ æ€»ç»“ï¼š**â€¢ EXPLAINä¸ä¼šå‘Šè¯‰ä½ å…³äºŽè§¦å‘å™¨ã€å­˜å‚¨è¿‡ç¨‹çš„ä¿¡æ¯æˆ–ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°å¯¹æŸ¥è¯¢çš„å½±å“æƒ…å†µâ€¢ EXPLAINä¸è€ƒè™‘å„ç§Cacheâ€¢ EXPLAINä¸èƒ½æ˜¾ç¤ºMySQLåœ¨æ‰§è¡ŒæŸ¥è¯¢æ—¶æ‰€ä½œçš„ä¼˜åŒ–å·¥ä½œâ€¢ éƒ¨åˆ†ç»Ÿè®¡ä¿¡æ¯æ˜¯ä¼°ç®—çš„ï¼Œå¹¶éžç²¾ç¡®å€¼â€¢ EXPALINåªèƒ½è§£é‡ŠSELECTæ“ä½œï¼Œå…¶ä»–æ“ä½œè¦é‡å†™ä¸ºSELECTåŽæŸ¥çœ‹æ‰§è¡Œè®¡åˆ’ã€‚** è½¬è½½è‡ª http://www.cnblogs.com/xuanzhi201111/p/4175635.html]]></content>
      <tags>
        <tag>MySQL</tag>
        <tag>reprinted</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‘å¸ƒæž„ä»¶åˆ°Mavenä¸­å¤®ä»“åº“]]></title>
    <url>%2F2018%2F06%2F19%2F%E5%8F%91%E5%B8%83%E6%9E%84%E4%BB%B6%E5%88%B0Maven%E4%B8%AD%E5%A4%AE%E4%BB%93%E5%BA%93%2F</url>
    <content type="text"><![CDATA[æ€»ç»“çš„å·¥å…·åŒ…ä¸ºä½¿ç”¨æ–¹ä¾¿å†³å®šå‘å¸ƒåˆ°mavenä¸­å¤®ä»“åº“ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡å‘å¸ƒï¼Œé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œç®€è¦è®°å½•ä¸€ä¸‹ã€‚ 1Sonatypeå®˜ç½‘ï¼šhttp://www.sonatype.org/ Step 1: æ³¨å†ŒSonatypeç”¨æˆ· æ³¨å†Œåœ°å€ï¼šhttps://issues.sonatype.org/secure/Signup!default.jspa ossåœ°å€ï¼šhttps://oss.sonatype.org ï¼Œç”¨äºŽæŸ¥è¯¢æž„ä»¶ Step2: åˆ›å»ºissue create issue: 12345Projectï¼šCommunity Support - Open Source Project Repository Hosting (OSSRH)Issue Type: new Project--- next ---Summary: &lt;ç®€è¦é¡¹ç›®ä»‹ç»&gt;Group id: me.silloy &lt;éœ€è¦æ—¶è‡ªå·±çš„åŸŸåï¼ŒåŒæ—¶åœ¨å·¥ç¨‹ä¸­ä½¿ç”¨&gt; ç‚¹å‡»createï¼Œåˆ›å»ºissue ä¸‹å›¾æŸ¥çœ‹å·²åˆ›å»ºçš„issue Step 3: ç­‰å¾…issueå®¡æ‰¹é€šè¿‡ ä¸€èˆ¬éœ€è¦1-2å¤©ï¼Œå®¡æ‰¹é€šè¿‡åŽä¼šæ”¶åˆ°é‚®ä»¶é€šçŸ¥ï¼Œåœ¨è‡ªå·±æäº¤çš„issueä¸‹é¢å¯ä»¥çœ‹åˆ°Sonatypeå·¥ä½œäººå‘˜çš„å›žå¤ã€‚åŒæ—¶issueçŠ¶æ€ä¿®æ”¹ä¸ºresolvedã€‚ Step 4: å‘å¸ƒå‡†å¤‡ ç”Ÿæˆgpgå¯†é’¥ï¼Œå¹¶å‘å¸ƒåˆ°PGPå¯†é’¥æœåŠ¡å™¨ï¼Œè§å¼•ç”¨ ç®€è¦ä»‹ç»win10çŽ¯å¢ƒä¸‹gpgå¯†é’¥ç”Ÿæˆæ–¹æ³• ä¸‹è½½Gpg4winï¼Œ å®‰è£… ä¾æ¬¡æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ ç‰ˆæœ¬æ£€æŸ¥: gpg --version, æˆ‘ç”¨çš„æ˜¯2.2.8 ç”Ÿæˆkeyï¼š gpg --gen-key æ£€æŸ¥æœ¬åœ°keyï¼š gpg â€“list-keys å‘å¸ƒå…¬é’¥ï¼šgpg â€“keyserver hkp://pool.sks-keyservers.net â€“send-keys A3434534534 æ ¡éªŒæ˜¯å¦å‘å¸ƒæˆåŠŸï¼šgpg â€“keyserver hkp://pool.sks-keyservers.net â€“recv-keys 732796B4 12# List all available gpg servers:$ gpg-connect-agent --dirmngr 'keyserver --hosttable' ä¿®æ”¹mavenè®¾ç½® ä¿®æ”¹mavenå…¨å±€é…ç½®æ–‡ä»¶setting.xmlï¼Œ å¢žåŠ ä¸€ä¸‹å†…å®¹ 1234567&lt;servers&gt; &lt;server&gt; &lt;id&gt;oss&lt;/id&gt; &lt;username&gt;Harvey.Su&lt;/username&gt; &lt;password&gt;&lt;![CDATA[password]]&gt;&lt;/password&gt; &lt;/server&gt;&lt;/servers&gt; ä¿®æ”¹pomæ–‡ä»¶ï¼ŒåŠ å…¥éœ€è¦çš„ä¿¡æ¯ 1234567891011121314151617181920212223242526&lt;groupId&gt;me.silloy&lt;/groupId&gt; &lt;artifactId&gt;zjtools&lt;/artifactId&gt; &lt;version&gt;0.0.1&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;description&gt;a java tool package&lt;/description&gt; &lt;licenses&gt; &lt;license&gt; &lt;name&gt;The Apache Software License, Version 2.0&lt;/name&gt; &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt; &lt;/license&gt; &lt;/licenses&gt; &lt;developers&gt; &lt;developer&gt; &lt;name&gt;sushaohua&lt;/name&gt; &lt;email&gt;sshzh90@gmail.com&lt;/email&gt; &lt;/developer&gt; &lt;/developers&gt; &lt;scm&gt; &lt;connection&gt;scm:git:git@github.com:silloy/zjtools.git&lt;/connection&gt; &lt;developerConnection&gt;scm:git:git@github.com:silloy/zjtools.git&lt;/developerConnection&gt; &lt;url&gt;git@github.com:silloy/zjtools.git&lt;/url&gt; &lt;/scm&gt; å¢žåŠ ä¸€ä¸ªåä¸ºossçš„profile (â­â­â­â­â­) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;$&#123;maven-compiler-plugin.version&#125;&lt;/version&gt; &lt;configuration&gt; &lt;compilerVersion&gt;$&#123;maven.compiler.source&#125;&lt;/compilerVersion&gt; &lt;source&gt;$&#123;maven.compiler.source&#125;&lt;/source&gt; &lt;target&gt;$&#123;maven.compiler.source&#125;&lt;/target&gt; &lt;encoding&gt;$&#123;project.build.sourceEncoding&#125;&lt;/encoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;!-- Source --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt; &lt;version&gt;$&#123;maven-source-plugin.version&#125;&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;attach-sources&lt;/id&gt; &lt;phase&gt;compile&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;jar-no-fork&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;!-- Javadoc --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt; &lt;version&gt;$&#123;maven-javadoc-plugin.version&#125;&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;attach-javadocs&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;jar&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;configuration&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;charset&gt;UTF-8&lt;/charset&gt; &lt;additionalOptions&gt; &lt;additionalOption&gt;-Xdoclint:none&lt;/additionalOption&gt; &lt;/additionalOptions&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/java&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;false&lt;/filtering&gt; &lt;/resource&gt; &lt;/resources&gt;&lt;/build&gt;&lt;!-- profiles --&gt;&lt;profiles&gt; &lt;profile&gt; &lt;id&gt;sonar&lt;/id&gt; &lt;activation&gt; &lt;!--&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;--&gt; &lt;jdk&gt;[1.8,)&lt;/jdk&gt; &lt;/activation&gt; &lt;!--&lt;properties&gt;--&gt; &lt;!--&lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;--&gt; &lt;!--&lt;/properties&gt;--&gt; &lt;build&gt; &lt;!--&lt;finalName&gt;$&#123;project.artifactId&#125;-$&#123;project.version&#125;-SNAPSHOT&lt;/finalName&gt;--&gt; &lt;finalName&gt;$&#123;project.artifactId&#125;-$&#123;project.version&#125;&lt;/finalName&gt; &lt;plugins&gt; &lt;!-- GPG --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt; &lt;version&gt;$&#123;maven-gpg-plugin.version&#125;&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;sign-artifacts&lt;/id&gt; &lt;phase&gt;verify&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;sign&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/profile&gt;&lt;/profiles&gt;&lt;distributionManagement&gt; &lt;snapshotRepository&gt; &lt;id&gt;oss&lt;/id&gt; &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt; &lt;/snapshotRepository&gt; &lt;repository&gt; &lt;id&gt;oss&lt;/id&gt; &lt;url&gt;https://oss.sonatype.org/service/local/staging/deploy/maven2/&lt;/url&gt; &lt;/repository&gt;&lt;/distributionManagement&gt; javadoc ä¸è§„èŒƒçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æŠŠmaven-javadoc-pluginæ³¨é‡ŠæŽ‰ã€‚ ç‰¹åˆ«æ³¨æ„ï¼šsnapshotRepository ä¸Ž repository ä¸­çš„ id ä¸€å®šè¦ä¸Ž setting.xml ä¸­ server çš„ id ä¿æŒä¸€è‡´ã€‚è¿™é‡Œæˆ‘ä»¬éƒ½è®¾ç½®ä¸ºossã€‚ Step 5: ä¸Šä¼ æž„ä»¶åˆ°OSS æ‰§è¡Œå‘½ä»¤ï¼š 1mvn clean deploy -P sonar -Darguments="gpg.passphrase=å¯†é’¥å¯†ç " çœ‹åˆ°å¦‚ä¸‹æç¤ºä¿¡æ¯ï¼Œè¯´æ˜ŽdeployæˆåŠŸ 1234567891011Uploading: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/0.0.1/zjtools-0.0.1.jarUploaded: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/0.0.1/zjtools-0.0.1.jar (34 kB at 966 B/s)Uploading: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/0.0.1/zjtools-0.0.1.pomUploaded: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/0.0.1/zjtools-0.0.1.pom (9.7 kB at 985 B/s)Downloading: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/maven-metadata.xmlUploading: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/maven-metadata.xmlUploaded: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/maven-metadata.xml (296 B at 5 B/s)Uploading: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/0.0.1/zjtools-0.0.1-sources.jarUploaded: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/0.0.1/zjtools-0.0.1-sources.jar (20 kB at 1.9 kB/s)Uploading: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/0.0.1/zjtools-0.0.1-sources.jarUploaded: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/0.0.1/zjtools-0.0.1-sources.jar (20 kB at 10 kB/s) Step 6: åœ¨OSSä¸­å‘å¸ƒæž„ä»¶ ç™»å½•https://oss.sonatype.orgï¼Œå¯ä»¥åœ¨`Staging Repositories`ä¸­æŸ¥çœ‹åˆ°å·²ä¸Šä¼ çš„æž„ä»¶ï¼Œå¯è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œå¿«é€Ÿå®šä½åˆ°è‡ªå·±çš„æž„ä»¶ï¼ŒçŠ¶æ€ä¸ºopenï¼Œå‹¾é€‰ï¼Œç„¶åŽç‚¹å‡»closeæŒ‰é’®ï¼ŒæŽ¥ä¸‹æ¥ç³»ç»Ÿä¼šè‡ªåŠ¨éªŒè¯è¯¥æž„ä»¶æ˜¯å¦æ»¡è¶³æŒ‡å®šè¦æ±‚ï¼Œå½“éªŒè¯å®Œæ¯•åŽï¼ŒçŠ¶æ€ä¼šå˜ä¸º Closedï¼Œæœ€åŽï¼Œç‚¹å‡» Release æŒ‰é’®æ¥å‘å¸ƒè¯¥æž„ä»¶ ã€‚ å¤‡æ³¨ï¼šåˆ‡è®°æ˜¯è¦å‘å¸ƒreleaseç‰ˆæœ¬çš„æž„ä»¶ï¼Œä¸èƒ½æ˜¯snapshotï¼Œä¸ç„¶ä¸ä¼šå‡ºçŽ°åœ¨Staging Repositoriesé‡Œé¢ã€‚ Step 7: é€šçŸ¥ Sonatypeâ€œæž„ä»¶å·²æˆåŠŸå‘å¸ƒâ€ éœ€è¦åœ¨æ›¾ç»åˆ›å»ºçš„ Issue ä¸‹é¢å›žå¤ä¸€æ¡â€œæž„ä»¶å·²æˆåŠŸå‘å¸ƒâ€çš„è¯„è®ºï¼Œè¿™æ˜¯ä¸ºäº†é€šçŸ¥ Sonatype çš„å·¥ä½œäººå‘˜ä¸ºéœ€è¦å‘å¸ƒçš„æž„ä»¶åšå®¡æ‰¹( I released the component has been successfully, please approval, thank you!)ï¼Œå‘å¸ƒåŽä¼šå…³é—­è¯¥ Issue ã€‚ Step 8: ç­‰å¾…å®¡æ‰¹ï¼Œ1~2å¤©ï¼Œå®¡æ‰¹é€šè¿‡åŽä¼šæ”¶åˆ°é‚®ä»¶é€šçŸ¥ã€‚ Step 9: åœ¨https://oss.sonatype.org/#stagingRepositoriesæ‰¾åˆ°è‡ªå·±çš„æž„å»ºï¼Œç‚¹å‡»release Step 9: ä»Žä¸­å¤®ä»“åº“æœç´¢è‡ªå·±å‘å¸ƒçš„æž„ä»¶ åœ°å€ï¼šhttp://search.maven.org/ Step 10: http://search.maven.org/ ä¸Šæœç´¢è‡ªå·±çš„æž„ä»¶ ï¼Œå¤§åŠŸå‘Šæˆï¼Œå¯ä»¥åœ¨é¡¹ç›®ä¸­å¼•ç”¨å•¦ã€‚ä»¥åŽå‘å¸ƒå°±ç®€å•äº†ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½å®¡æ ¸ã€‚ é—®é¢˜ï¼š gpgé”™è¯¯å¤„ç†Enter passphrase: gpg: gpg-agent is not available in this session å¯èƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œæˆ–è€…æ²¡æœ‰å®‰è£…gpg-agentï¼Œè¯¦è§https://askubuntu.com/questions/860370/gpg-agent-cant-be-reached ï¼Œå…·ä½“æ­¥éª¤ linux ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ å®‰è£…gpg2 sudo apt install gpgv2 ç„¶åŽåœ¨mavençš„settings.xmlä¸­åŠ å…¥ä¸¤ä¸ªå±žæ€§ï¼Œä¸»è¦è¦åœ¨æ¿€æ´»çš„profileé‡Œé¢ 123456&lt;profile&gt; &lt;properties&gt; &lt;gpg.executable&gt;gpg2&lt;/gpg.executable&gt; &lt;gpg.useagent&gt;true&lt;/gpg.useagent&gt; &lt;/properties&gt;&lt;/profile&gt; mvn clean deploy -P ossï¼Œ å‚çœ‹ Avoid gpg signing prompt when using Maven release plugin windows è§£å†³æ–¹æ¡ˆ (Windowsä¸‹Gpg4winã€Gitã€ssh-pageanté…ç½®)[https://www.mjollnir.cc/archives/216.html] .git/configä¿®æ”¹ 12[gpg] program = gpg Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy (default-deploy) on project zjtools: Failed to deploy artifacts: Could not transfer artifact me.silloy:zjtools:jar:0.0.1 from/to oss (https://oss.sonatype.org/service/local/staging/deploy/maven2/): Access denied to: https://oss.sonatype.org/service/local/staging/deploy/maven2/me/silloy/zjtools/0.0.1/zjtools-0.0.1.jar, ReasonPhrase: Forbidden. -&gt; [Help 1] ç­”æ¡ˆï¼šå¼•ç”¨ï¼Œæäº¤ç»™sonatypeå°±å¯ä»¥ï¼Œå·¥ä½œäººå‘˜ä¼šå¼€æƒé™ å¯ä»¥åœ¨ http://search.maven.org/ æœç´¢åˆ°ï¼Œä½†æ˜¯ä¸èƒ½åœ¨ http://mvnrepository.com/ æœç´¢åˆ°ï¼Œæ˜¯å› ä¸ºæ›´æ–°é¢‘çŽ‡ä¸ä¸€æ ·ï¼Œç­‰ä¸€å¤©å·¦å³å°±å¥½äº†ï¼Œå‚è§å·¥ä½œäººå‘˜å›žå¤ gpg --list-keys å‡ºçŽ° unknown è§£å†³ 12345678910111213141516gpg --edit-key user@useremail.comgpg&gt; trustPlease decide how far you trust this user to correctly verify other users' keys(by looking at passports, checking fingerprints from different sources, etc.) 1 = I don't know or won't say 2 = I do NOT trust 3 = I trust marginally 4 = I trust fully 5 = I trust ultimately m = back to the main menuYour decision? 5gpg&gt; save referenceï¼š å‘å¸ƒåˆ°ä¸­å¤®ä»“åº“ ä¸Šä¼ è‡ªå·±çš„æž„ä»¶(Jar)åˆ°Mavenä¸­å¤®ä»“åº“ å°† Smart æž„ä»¶å‘å¸ƒåˆ° Maven ä¸­å¤®ä»“åº“ Maven-008-Nexus ç§æœéƒ¨ç½²å‘å¸ƒæŠ¥é”™ Failed to deploy artifacts: Failed to transfer file: â€¦ Return code is: 4XX, ReasonPhrase: â€¦ è§£å†³æ–¹æ¡ˆ Why am I getting a â€œ401 Unauthorizedâ€ error in Maven? å°†é¡¹ç›®å‘å¸ƒåˆ° Maven ä¸­å¤®ä»“åº“è¸©è¿‡çš„å‘ [gpg â€”list-keys command outputs uid [ unknown ] after importing private key onto a clean install]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot-Mybatisé€šç”¨mapperä½¿ç”¨]]></title>
    <url>%2F2018%2F06%2F15%2FSpringBoot-Mybatis%E9%80%9A%E7%94%A8mapper%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[mybatisæ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å·¥å…·ï¼Œä½†æ˜¯ç¼–å†™mapperæ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹ï¼Œè‡ªmybatis 3.0å¼€å§‹å¯ä»¥ä½¿ç”¨æ³¨è§£çš„æ–¹å¼ï¼Œæžå¤§çš„ç®€åŒ–äº†xmlçš„ç¼–å†™é‡ï¼Œæœ¬åœ°æƒ³çœ‹çœ‹mybatisæºç ï¼Œè‡ªå·±æ‰©å±•å†™ä¸€ä¸ªå·¥å…·ï¼Œåœ¨é˜…è¯»æºç è¿‡ç¨‹ä¸­å‘çŽ°ä¸€ä¸ªé€šç”¨mapperçš„å·¥å…·åŒ…ï¼Œæ„Ÿè§‰ä¸ç”¨é‡å¤é€ è½®å­äº†ï¼Œç®€è¦è®°å½•ä¸€ä¸‹spring bootæ•´åˆé€šç”¨mapperçš„ä½¿ç”¨ã€‚ ç¡®ä¿å¯ä»¥æ­£å¸¸ä½¿ç”¨mybatis pomå¼•å…¥ä¾èµ–åŒ…ï¼Œstarteréœ€è¦é…åˆ@Mapperæ³¨è§£ä½¿ç”¨ï¼Œè¿™é‡Œé‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œæˆ–è€…ä½¿ç”¨@MapperScanæ³¨è§£ï¼Œ`@tk.mybatis.spring.annotation.MapperScan(basePackages = â€œæ‰«æåŒ…â€)`é…åˆåŽŸç”Ÿmapperä½¿ç”¨ã€‚ 12345&lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;&#123;version&#125;&lt;/version&gt;&lt;/dependency&gt; æˆ‘ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯2.0.2 Mybatis æ‰«æé…ç½®ï¼ˆDeprecated, spring è‡ªåŠ¨é…ç½®ï¼‰ 123456789101112131415161718@Configuration//TODO æ³¨æ„ï¼Œç”±äºŽMapperScannerConfigureræ‰§è¡Œçš„æ¯”è¾ƒæ—©ï¼Œæ‰€ä»¥å¿…é¡»æœ‰ä¸‹é¢çš„æ³¨è§£@AutoConfigureAfter(MybatisAutoConfiguration.class)public class MyBatisMapperScannerConfig &#123; @Bean public MapperScannerConfigurer mapperScannerConfigurer() &#123; MapperScannerConfigurer mapperScannerConfigurer = new MapperScannerConfigurer(); mapperScannerConfigurer.setSqlSessionFactoryBeanName("sqlSessionFactory"); mapperScannerConfigurer.setBasePackage("org.springboot.sample.mapper"); Properties properties = new Properties(); // è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„ï¼Œä¸è¦æŠŠMyMapperæ”¾åˆ° basePackage ä¸­ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½åŒå…¶ä»–Mapperä¸€æ ·è¢«æ‰«æåˆ°ã€‚ properties.setProperty("mappers", MyMapper.class.getName()); properties.setProperty("notEmpty", "false"); properties.setProperty("IDENTITY", "MYSQL"); mapperScannerConfigurer.setProperties(properties); return mapperScannerConfigurer; &#125;&#125; æ–°å»ºBaseMapperç±»ï¼Œè¯¥ç±»ä¸èƒ½è¢«å½“åšæ™®é€šMapperä¸€æ ·è¢«æ‰«æ ï¼Œä¸åŠ @Mapperæ³¨è§£ï¼Œæˆ–è€…æ”¾åœ¨ä¸åŒæ–‡ä»¶å¤¹ 1234567package com.zj.mapper;import tk.mybatis.mapper.common.Mapper;import tk.mybatis.mapper.common.MySqlMapper;public interface BaseMapper&lt;T&gt; extends Mapper&lt;T&gt;, MySqlMapper&lt;T&gt; &#123;&#125; ä¸šåŠ¡å¤„ç†daoå±‚ï¼Œæ‰©å±•BaseMapper 1234567package com.zj.mapper;import com.zj.model.OrderInfo;import org.apache.ibatis.annotations.Mapper;@Mapperpublic interface OrderInfoMapper extends BaseMapper&lt;OrderInfo&gt; &#123;&#125; å…¶ä»–å’Œä½¿ç”¨æ™®é€šmybatisä¸€è‡´ï¼Œserviceå±‚éƒ¨åˆ†ä»£ç  12orderInfoMapper.insertSelective(info);OrderInfo info = orderInfoMapper.selectByPrimaryKey(id); é€šç”¨mapperæä¾›å¸¸ç”¨çš„ä¸€äº›æ“ä½œæ–¹æ³•: deleteByPrimaryKey, insert, insertSelective, selectByPrimaryKey, updateByPrimaryKeySelective, updateByPrimaryKey, insertListç­‰å¾ˆå¤šæ–¹æ³•ï¼Œéœ€è¦ä½ è¿›ä¸€æ­¥æŽ¢ç´¢ðŸ˜€ðŸ˜€ ä¸»é”®idé—®é¢˜ å½“ä½¿ç”¨insertï¼ŒinsertSelectiveç­‰æ–¹æ³•æ—¶ï¼Œå¸Œæœ›è¿”å›žç”±æ•°æ®åº“äº§ç”Ÿçš„é€æ¸ï¼Œéœ€è¦åœ¨å®žä½“ç±»ä¸Šå¢žåŠ æ³¨è§£ 123@Id@GeneratedValue(generator = "JDBC")private Long orderInfoId; generator=â€JDBCâ€è¡¨ç¤º MyBatis ä½¿ç”¨ JDBC çš„ getGeneratedKeys æ–¹æ³•æ¥å–å‡ºç”±æ•°æ®åº“å†…éƒ¨ç”Ÿæˆçš„ä¸»é”® ï¼Œé€‚ç”¨äºŽMySQLï¼ŒSQL Serverç­‰çš„è‡ªå¢žä¸»é”®ã€‚ æˆ–è€…ï¼š 123@Id@KeySql(useGeneratedKeys = true)private Long id; å¦‚æžœå®žä½“å­—æ®µå’Œæ•°æ®åº“å­—æ®µä¸ä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨@Columnæ³¨è§£ï¼Œå…¶ä»–æ³¨è§£ å‚è§æ³¨è§£ 12@Column(name="SCORE_SUM")private String sumScore; MBGç”Ÿæˆå‚è§https://github.com/abel533/Mapper/wiki/4.1.mappergeneratorï¼Œdemoè§ git@github.com:silloy/mybatis-generator.git æ›´å¤šç»†èŠ‚å‚è§wiki é€šç”¨Mapperæžå¤§çš„ç®€åŒ–äº†xmlæ–‡ä»¶çš„ç¼–å†™ï¼Œä½†ä»éœ€è¦å°‘è®¸xmlæ–‡ä»¶ï¼Œæœ‰å¾…è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚åŒæ—¶å› ä¸ºè¿™æ˜¯ä¸€ä¸ªä¸ªäººé¡¹ç›®ï¼Œä½¿ç”¨ä¸å¤ªç†Ÿæ‚‰ä¸å»ºè®®ä½¿ç”¨ã€‚ reference: http://www.mybatis.tk/ https://github.com/abel533/Mapper/wiki https://github.com/abel533/Mapper https://blog.csdn.net/qq_19260029/article/details/78010369]]></content>
      <tags>
        <tag>spring boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨RabbitMQå®žçŽ°AMQPå’ŒMQTTçš„åè®®è½¬æ¢]]></title>
    <url>%2F2018%2F04%2F13%2F%E4%BD%BF%E7%94%A8RabbitMQ%E5%AE%9E%E7%8E%B0AMQP%E5%92%8CMQTT%E7%9A%84%E5%8D%8F%E8%AE%AE%E8%BD%AC%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[åŸºäºŽLBSçš„ä¸šåŠ¡ç³»ç»Ÿï¼Œå‰å°ä½¿ç”¨MQTTåè®®æŽ¨é€åˆ°åŽå°ï¼ŒåŽå°é€šè¿‡RabbitMQå®žçŽ°åè®®çš„è½¬æ¢ï¼Œä»¥å®žçŽ°è´Ÿè½½æ¶ˆè´¹çš„åŠŸèƒ½ã€‚ä¸»è¦çš„æ¡†æž¶å¦‚å›¾ å‡†å¤‡å·¥ä½œï¼šrabbitmqå®‰è£…ä»¥åŠ rabbitmq_mqtt æ’ä»¶å¯ç”¨ MQTT clientå‘/drivers/1pushæ¶ˆæ¯ï¼ŒAMQP client ä½¿ç”¨ topic æ¨¡å¼æŽ¥å—æ¶ˆæ¯ï¼Œ exchange nameä¸ºå›ºå®šå€¼ amq.topicï¼ŒroutingKey ä¸º MQTT å‘é€ä½¿ç”¨çš„Topicï¼Œæ³¨æ„/éœ€è¦æ›¿æ¢ä¸º.ï¼Œqueue name å¯ä»¥ä»»æ„æŒ‡å®šï¼Œç»‘å®šç›¸åŒqueueçš„customerå¯ä»¥å®žçŽ°è´Ÿè½½æ¶ˆè´¹çš„åŠŸèƒ½ã€‚ Demoç¤ºä¾‹(ä»¥javaä¸ºä¾‹)ï¼š RabbitConfig 12345678910111213141516171819202122@Componentpublic class TopicRabbitConfig &#123; public static final String message = "location.broker"; @Bean public Queue queueMessage() &#123; return new Queue(message); &#125; @Bean TopicExchange exchange() &#123; return new TopicExchange("amq.topic", true, false); &#125; //ç¶å®šé˜Ÿåˆ— queueMessages() åˆ° topicExchange äº¤æ¢æœº,è·¯ç”±é”®åªæŽ¥å—å®Œå…¨åŒ¹é… topic.message çš„é˜Ÿåˆ—æŽ¥å—è€…å¯ä»¥æ”¶åˆ°æ¶ˆæ¯, # ä¸ºé€šé…ç¬¦æ¨¡å¼ @Bean Binding bindingExchangeMessage(Queue queueMessage, TopicExchange exchange) &#123; return BindingBuilder.bind(queueMessage).to(exchange).with('.drivers.#'); &#125;&#125; RabbitListener: 123456789@Component@RabbitListener(queues = "location.broker")public class TopicReciver &#123; @RabbitHandler public void process(byte[] hello) &#123; System.out.println(new String(hello)); &#125;&#125; ä½¿ç”¨javaæ¨¡æ‹Ÿçš„mqtt client å‘é€çš„æ¶ˆæ¯ä¸ºbyte[]ï¼Œ å› æ­¤éœ€è¦ä½¿ç”¨byte[]æŽ¥æ”¶æ¶ˆæ¯å†…å®¹ã€‚ reference: Uniting AMQP and MQTT Message Brokering with RabbitMQ ä½¿ç”¨rabbitmqåšä¸ºmqttæœåŠ¡å™¨ï¼Œæ•´åˆspringåšæŽ¨é€åŽå°]]></content>
      <tags>
        <tag>amqp</tag>
        <tag>mqtt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexoä¸»é¢˜å‡çº§]]></title>
    <url>%2F2018%2F03%2F01%2Fhexo%E4%B8%BB%E9%A2%98%E5%8D%87%E7%BA%A7%2F</url>
    <content type="text"><![CDATA[å¶ç„¶çœ‹åˆ°æœ€æ–°çš„nextä¸»é¢˜ï¼Œç”šä½³ï¼Œå†³å®šå¯¹è‡ªå·±çš„åšå®¢ä¸»é¢˜è¿›è¡Œå‡çº§ï¼Œç®€è¦è®°å½•å‡çº§è¿‡ç¨‹ã€‚ ä¸‹è½½æœ€æ–°next 6.0.4, â€”&gt; å‚è§11ï¼Œä½¿ç”¨æ¨¡å—ç®¡ç†ä¸»é¢˜ å¤‡ä»½_config.ymlï¼ŒåŒæ—¶å¯¹é…ç½®è¿›è¡Œä¿®æ”¹ï¼Œç›¸å…³å›¾ç‰‡ä½äºŽnext/source/images 1234cd themes/nextgit clone https://github.com/theme-next/theme-next-fancybox3 source/lib/fancyboxgit clone https://github.com/theme-next/theme-next-pace source/lib/pacegit clone https://github.com/theme-next/theme-next-algolia-instant-search source/lib/algolia-instant-search å…¶ä»–æ’ä»¶ å¢žåŠ é˜…è¯»è¿›åº¦ 1git clone https://github.com/theme-next/theme-next-reading-progress source/lib/reading_progress å¡«è¡¥å­—ç¬¦é—´ç©ºç™½ 1git clone https://github.com/theme-next/theme-next-pangu.git source/lib/pangu é¡µé¢å¢žåŠ 3Dæ¸²æŸ“ï¼Œnexté»˜è®¤æä¾›ä¸¤ç§æ¸²æŸ“æ•ˆæžœï¼Œtheme-next-threeå’Œcanvas_nest 123cd themes/nextgit clone https://github.com/theme-next/theme-next-three source/lib/threegit clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest å¯ç”¨ä»¥ä¸‹ä»»æ„é¡¹ï¼š 1three_waves: true 1canvas_lines: true 1canvas_sphere: true 1canvas_nest: true æ·»åŠ è®¿é—®äººæ•°ï¼ˆ6.0å·²åŽŸç”Ÿæ”¯æŒbusuanziï¼Œå¯ç”¨å³å¯ï¼‰ æ‰“å¼€\themes\next\layout\_partials\footer.swigæ–‡ä»¶,åœ¨copyrightå‰åŠ ä¸Šç”»çº¢çº¿è¿™å¥è¯ 1&lt;script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; ç„¶åŽå†åˆé€‚çš„ä½ç½®æ·»åŠ æ˜¾ç¤ºç»Ÿè®¡çš„ä»£ç ï¼Œå¦‚å›¾ï¼š 12345&lt;div class="powered-by"&gt;&lt;i class="fa fa-user-md"&gt;&lt;/i&gt;&lt;span id="busuanzi_container_site_uv"&gt; æœ¬ç«™è®¿å®¢æ•°:&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt; pvçš„æ–¹å¼ï¼Œå•ä¸ªç”¨æˆ·è¿žç»­ç‚¹å‡»nç¯‡æ–‡ç« ï¼Œè®°å½•næ¬¡è®¿é—®é‡ uvçš„æ–¹å¼ï¼Œå•ä¸ªç”¨æˆ·è¿žç»­ç‚¹å‡»nç¯‡æ–‡ç« ï¼Œåªè®°å½•1æ¬¡è®¿å®¢æ•° æ¯ç¯‡æ–‡ç« æœ«å°¾ç»Ÿä¸€æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®° å®žçŽ°æ–¹æ³• åœ¨è·¯å¾„ \themes\next\layout\_macro ä¸­æ–°å»º passage-end-tag.swig æ–‡ä»¶,å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š 12345&lt;div&gt; &#123;% if not is_index %&#125; &lt;div style="text-align:center;color: #ccc;font-size:15px;"&gt;--------------éƒ½çœ‹åˆ°è¿™äº†ï¼Œè¯·æˆ‘å–æ¯å’–å•¡å§ï¼&lt;i class="fa fa-coffee"&gt;&lt;/i&gt;--------------&lt;/div&gt; &#123;% endif %&#125;&lt;/div&gt; æŽ¥ç€æ‰“å¼€\themes\next\layout\_macro\post.swigæ–‡ä»¶ï¼Œåœ¨ ä¹‹åŽï¼Œ &lt;footer class=&quot;post-footer&quot;&gt; ä¹‹å‰æ·»åŠ  12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include 'passage-end-tag.swig' %&#125; &#123;% endif %&#125;&lt;/div&gt; æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ–‡ç« æœ«å°¾æ·»åŠ æ ‡è®°ï¼ˆä¸ç”¨è®¾ç½®ï¼‰ 12passage_end_tag: enabled: true å¢žåŠ è¯„è®ºç³»ç»Ÿ gitment ä¸»é¢˜é…ç½® 12345678910gitment: enable: true mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway count: true # Show comments count in post meta area lazy: false # Comments lazy loading with a button cleanly: false # Hide 'Powered by ...' on footer, and more github_user: silloy # MUST HAVE, Your Github Username github_repo: repo # MUST HAVE, The name of the repo you use to store Gitment comments client_id: xxx # MUST HAVE, Github client id for the Gitment client_secret: xxx é—®é¢˜ï¼š Errorï¼švalidation failed ä¿®æ”¹ next/layout/_third-party/comments/gitment.swigä¸­id: window.location.pathnameä¸º 1id: &apos;&#123;&#123; page.date &#125;&#125;&apos; valine æ–‡ç« åº•éƒ¨å¢žåŠ ç‰ˆæƒä¿¡æ¯ ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦#å·çš„æ ‡ç­¾ ä¿®æ”¹æ¨¡æ¿/themes/next/layout/_macro/post.swigï¼Œæœç´¢ rel=&quot;tag&quot;&gt;#ï¼Œå°† # æ¢æˆ&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt; ä¿®æ”¹æ‰“èµå­—ä½“ä¸é—ªåŠ¨ï¼Œnext 7.0 å·²æ”¯æŒé…ç½® ä¿®æ”¹æ–‡ä»¶next/source/css/_common/components/post/post-reward.stylï¼Œ æ³¨é‡Šwechat:hover å’Œalipay:hoverï¼Œ å¦‚ä¸‹ï¼š 123456789101112/* æ³¨é‡Šæ–‡å­—é—ªåŠ¨å‡½æ•° #wechat:hover p&#123; animation: roll 0.1s infinite linear; -webkit-animation: roll 0.1s infinite linear; -moz-animation: roll 0.1s infinite linear;&#125; #alipay:hover p&#123; animation: roll 0.1s infinite linear; -webkit-animation: roll 0.1s infinite linear; -moz-animation: roll 0.1s infinite linear;&#125;*/ æ¨¡å—åŒ–ä¸»é¢˜ç®¡ç†ï¼ˆä»¥nextä¸»é¢˜ä¸ºä¾‹ï¼‰ å¤‡ä»½nextä¸»é¢˜ mv next next-bakï¼Œæäº¤ä»£ç  å¢žåŠ å­æ¨¡å— git submodule add git@github.com:silloy/hexo-theme-next.git themes/next æŸ¥çœ‹çŠ¶æ€ git status 12345Changes to be committed: (use "git reset HEAD &lt;file&gt;..." to unstage) new file: .gitmodules new file: themes/next æäº¤ 12345$ git commit -m "add next module"[hexo adbe36e] add next module 3 files changed, 19 insertions(+), 1 deletion(-) create mode 100644 .gitmodules create mode 160000 themes/next æ›´æ–°å­æ¨¡å— git submodule update --remote æ‹‰å–å«å­æ¨¡å—çš„é¡¹ç›®ï¼Œgit clone åŽæ‰§è¡Œä»¥ä¸‹æ“ä½œ git submodule init åˆå§‹åŒ–æœ¬åœ°é…ç½®æ–‡ä»¶ git submodule update ä»Žè¯¥é¡¹ç›®ä¸­æŠ“å–æ‰€æœ‰æ•°æ®å¹¶æ£€å‡ºçˆ¶é¡¹ç›®ä¸­åˆ—å‡ºçš„åˆé€‚çš„æäº¤ ä¹Ÿå¯åœ¨ clone ä½¿ç”¨ git clone --recursive å‘½ä»¤, git å°±ä¼šè‡ªåŠ¨åˆå§‹åŒ–å¹¶æ›´æ–°ä»“åº“ä¸­çš„æ¯ä¸€ä¸ªå­æ¨¡å—. è‹¥å­åˆ†æ”¯ä»“åº“ä¸­æœ‰æœªåŒæ­¥çš„æ›´æ–°, å¯é€šè¿‡ git submodule update --remote --rebase æ¥åŒæ­¥æœ€æ–°çš„å†…å®¹ åŒæ­¥æºä¸»é¢˜çš„ä¿®æ”¹ å¢žåŠ æº 12cd theme/nextgit remote add source git@github.com:theme-next/hexo-theme-next.git æ‹‰å–æ›´æ–° 1git pull source master ç­‰åŒäºŽ 123git fetch source mastergit checkout mastergit merge source/master å‘å¸ƒå­æ¨¡å—çš„ä¿®æ”¹ ä½¿ç”¨ git push --recurse-submodules=check å‘½ä»¤ æ£€æŸ¥æ²¡æœ‰æŽ¨é€çš„å­æ¨¡å— ä½¿ç”¨ git push --recurse-submodules=on-demand git ä¼šè‡ªåŠ¨å°è¯•æŽ¨é€å˜æ›´çš„å­é¡¹ç›® å‚è€ƒæ–‡ç« ï¼š NexT ä½¿ç”¨æ–‡æ¡£ åˆ©ç”¨Gulpæ¥åŽ‹ç¼©ä½ çš„Hexoåšå®¢ hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹:æ‰“é€ ç‚«é…·ç½‘ç«™ è€é«˜åšå®¢ gitment Gitmentè¯„è®ºåŠŸèƒ½æŽ¥å…¥è¸©å‘æ•™ç¨‹ å®žçŽ° Hexo next ä¸»é¢˜åšå®¢æœ¬åœ°ç«™å†…æœç´¢ æˆ‘çš„ä¸ªäººåšå®¢ä¹‹æ—…ï¼šä»Žjekyllåˆ°hexo åœ¨ hexo ä¸­ä½¿ç”¨ git submodules ç®¡ç†ä¸»é¢˜]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¶ˆæ¯ä¸­é—´ä»¶é¢„ç ”-rabbitmq, rocketmq]]></title>
    <url>%2F2018%2F01%2F04%2F%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E9%A2%84%E7%A0%94-kafka%2C%20rabbitmq%2C%20rocketmq%2F</url>
    <content type="text"><![CDATA[æ¶ˆæ¯ä¸­é—´ä»¶åœ¨æœåŠ¡å¼€å‘ä¸­èµ·ç€é‡è¦çš„ä½œç”¨ï¼Œåº”å¯¹ä¸šåŠ¡éœ€æ±‚ï¼Œå¯¹rabbitmqï¼Œrocketmqè¿›è¡Œé¢„ç ”ï¼Œkafkaæš‚æ—¶ä¸åšæ·±å…¥äº†è§£ã€‚ æ¶ˆæ¯ä¸­é—´ä»¶åº”ç”¨åœºæ™¯ å¯ä»¥åšå»¶è¿Ÿè®¾è®¡æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€äº›æ•°æ®ï¼Œéœ€è¦è¿‡äº”åˆ†é’ŸåŽå†è¢«ä½¿ç”¨ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨å»¶è¿Ÿé˜Ÿåˆ—è®¾è®¡ï¼Œæ¯”å¦‚åœ¨RabbitMQä¸­åˆ©ç”¨æ­»ä¿¡é˜Ÿåˆ—å®žçŽ°ã€‚å…·ä½“å®žçŽ°åœ¨è¿™é‡Œï¼šhttp://www.cnblogs.com/haoxinyue/p/6613706.html å¼‚æ­¥å¤„ç†è¿™ä¸ªåœºæ™¯ä¸»è¦åº”ç”¨åœ¨å¤šä»»åŠ¡æ‰§è¡Œçš„åœºæ™¯ã€‚ åº”ç”¨è§£è€¦åœ¨å¤§åž‹å¾®æœåŠ¡æž¶æž„ä¸­ï¼Œæœ‰ä¸€äº›æ— çŠ¶æ€çš„æœåŠ¡ç»å¸¸è€ƒè™‘ä½¿ç”¨mqåšæ¶ˆæ¯é€šçŸ¥å’Œè½¬æ¢ã€‚ åˆ†å¸ƒå¼äº‹åŠ¡æœ€ç»ˆä¸€è‡´æ€§å¯ä»¥ä½¿ç”¨åŸºäºŽæ¶ˆæ¯ä¸­é—´ä»¶çš„é˜Ÿåˆ—åšåˆ†å¸ƒå¼äº‹åŠ¡çš„æ¶ˆæ¯è¡¥å¿ï¼Œå®žçŽ°æœ€ç»ˆä¸€è‡´æ€§ã€‚ æµé‡å‰Šå³°ä¸€èˆ¬åœ¨ç§’æ€æˆ–å›¢æŠ¢æ´»åŠ¨ä¸­ä½¿ç”¨å¹¿æ³›ï¼Œå¯ä»¥é€šè¿‡é˜Ÿåˆ—å®žçŽ°ç§’æ€çš„äººæ•°å’Œå•†å“æŽ§åˆ¶ï¼Œè¿˜å¯ä»¥ç¼“è§£çŸ­æ—¶é—´åŽ‹åž®åº”ç”¨ç³»ç»Ÿã€‚ æ—¥å¿—å¤„ç†æˆ‘ä»¬åœ¨åšç›‘æŽ§ï¼Œæˆ–è€…æ—¥å¿—é‡‡é›†çš„æ—¶å€™ç»å¸¸ç”¨é˜Ÿåˆ—æ¥åšæ¶ˆæ¯çš„ä¼ è¾“å’Œæš‚å­˜ã€‚ RocketMQ(Apache 4.2.0)æ¦‚å¿µDisk Flush (ç£ç›˜åˆ·æ–°/åŒæ­¥æ“ä½œ): å°±æ˜¯å°†å†…å­˜çš„æ•°æ®è½åœ°ï¼Œå­˜å‚¨åœ¨ç£ç›˜ä¸­. SYNC_FLUSHï¼ˆåŒæ­¥åˆ·ç›˜ï¼‰ï¼šç”Ÿäº§è€…å‘é€çš„æ¯ä¸€æ¡æ¶ˆæ¯éƒ½åœ¨ä¿å­˜åˆ°ç£ç›˜æˆåŠŸåŽæ‰è¿”å›žå‘Šè¯‰ç”Ÿäº§è€…æˆåŠŸã€‚è¿™ç§æ–¹å¼ä¸ä¼šå­˜åœ¨æ¶ˆæ¯ä¸¢å¤±çš„é—®é¢˜ï¼Œä½†æ˜¯æœ‰å¾ˆå¤§çš„ç£ç›˜IOå¼€é”€ï¼Œæ€§èƒ½æœ‰ä¸€å®šå½±å“ã€‚ ASYNC_FLUSHï¼ˆå¼‚æ­¥åˆ·ç›˜ï¼‰ï¼šç”Ÿäº§è€…å‘é€çš„æ¯ä¸€æ¡æ¶ˆæ¯å¹¶ä¸æ˜¯ç«‹å³ä¿å­˜åˆ°ç£ç›˜ï¼Œè€Œæ˜¯æš‚æ—¶ç¼“å­˜èµ·æ¥ï¼Œç„¶åŽå°±è¿”å›žç”Ÿäº§è€…æˆåŠŸã€‚éšåŽå†å¼‚æ­¥çš„å°†ç¼“å­˜æ•°æ®ä¿å­˜åˆ°ç£ç›˜ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š1æ˜¯å®šæœŸå°†ç¼“å­˜ä¸­æ›´æ–°çš„æ•°æ®è¿›è¡Œåˆ·ç›˜ï¼Œ2æ˜¯å½“ç¼“å­˜ä¸­æ›´æ–°çš„æ•°æ®æ¡æ•°è¾¾åˆ°æŸä¸€è®¾å®šå€¼åŽè¿›è¡Œåˆ·ç›˜ã€‚è¿™ç§æ–¹å¼ä¼šå­˜åœ¨æ¶ˆæ¯ä¸¢å¤±ï¼ˆåœ¨è¿˜æœªæ¥å¾—åŠåŒæ­¥åˆ°ç£ç›˜çš„æ—¶å€™å®•æœºï¼‰ï¼Œä½†æ˜¯æ€§èƒ½å¾ˆå¥½ã€‚é»˜è®¤æ˜¯è¿™ç§æ¨¡å¼ã€‚ Broker Replication (Brokeré—´æ•°æ®åŒæ­¥/å¤åˆ¶): é›†ç¾¤çŽ¯å¢ƒä¸‹éœ€è¦éƒ¨ç½²å¤šä¸ªBrokerï¼ŒBrokeråˆ†ä¸ºä¸¤ç§è§’è‰²ï¼šä¸€ç§æ˜¯masterï¼Œå³å¯ä»¥å†™ä¹Ÿå¯ä»¥è¯»ï¼Œå…¶brokerId=0ï¼Œåªèƒ½æœ‰ä¸€ä¸ªï¼›å¦å¤–ä¸€ç§æ˜¯slaveï¼Œåªå…è®¸è¯»ï¼Œå…¶brokerIdä¸ºéž0ã€‚ä¸€ä¸ªmasterä¸Žå¤šä¸ªslaveé€šè¿‡æŒ‡å®šç›¸åŒçš„brokerNameè¢«å½’ä¸ºä¸€ä¸ªbroker setï¼ˆbrokeré›†ï¼‰ã€‚é€šå¸¸ç”Ÿäº§çŽ¯å¢ƒä¸­ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦2ä¸ªbroker setã€‚ Broker Replicationåªçš„å°±æ˜¯slaveèŽ·å–æˆ–è€…æ˜¯å¤åˆ¶masterçš„æ•°æ®. Sync Brokerï¼šç”Ÿäº§è€…å‘é€çš„æ¯ä¸€æ¡æ¶ˆæ¯éƒ½è‡³å°‘åŒæ­¥å¤åˆ¶åˆ°ä¸€ä¸ªslaveåŽæ‰è¿”å›žå‘Šè¯‰ç”Ÿäº§è€…æˆåŠŸï¼Œå³â€œåŒæ­¥åŒå†™â€ã€‚ Async Brokerï¼šç”Ÿäº§è€…å‘é€çš„æ¯ä¸€æ¡æ¶ˆæ¯åªè¦å†™å…¥masterå°±è¿”å›žå‘Šè¯‰ç”Ÿäº§è€…æˆåŠŸã€‚ç„¶åŽå†â€œå¼‚æ­¥å¤åˆ¶â€åˆ°slaveã€‚ start ååˆ†é’Ÿå…¥é—¨RocketMQQuickStart: apache-quickstart é›†ç¾¤éƒ¨ç½² ä½¿ç”¨ä¸åŒé…ç½®æ–‡ä»¶å¯åŠ¨nameserv(é»˜è®¤9876) æ— çŠ¶æ€èŠ‚ç‚¹ï¼Œå¯é›†ç¾¤éƒ¨ç½²ï¼ŒèŠ‚ç‚¹ä¹‹é—´æ— ä»»ä½•ä¿¡æ¯åŒæ­¥ï¼ˆBrokerä¸Žæ¯ä¸ªnamesrvè¿žæŽ¥ï¼Œå¯ä»¥ä¿è¯ä¿¡æ¯åŒæ­¥æ€§ï¼‰ nameservçš„æ‰€æœ‰é…ç½®ä¿¡æ¯ 12345678910111213141516rocketmqHome=/usr/local/rocketmqkvConfigPath=/Users/zhangyanghong/namesrv/kvConfig.jsonproductEnvName=centerclusterTest=falseorderMessageEnable=falselistenPort=9876serverWorkerThreads=8serverCallbackExecutorThreads=0serverSelectorThreads=3serverOnewaySemaphoreValue=256serverAsyncSemaphoreValue=64serverChannelMaxIdleTimeSeconds=120serverSocketSndBufSize=4096serverSocketRcvBufSize=4096serverPooledByteBufAllocatorEnable=trueuseEpollNativeSelector=false é€šè¿‡ä¿®æ”¹listenPortåœ¨ä¸€å°æœºå™¨ä¸Šéƒ¨ç½²å¯åŠ¨ä¸¤ä¸ªnameserv nohup sh mqnamesrv -c mqnamesrv-a.conf &amp; å¯åŠ¨broker(é»˜è®¤10911)é›†ç¾¤ brokerçš„æ‰€ç”¨é…ç½®é¡¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122rocketmqHome=/usr/local/rocketmqnamesrvAddr=## æœ¬æœºipåœ°å€ï¼Œé»˜è®¤ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«brokerIP1=172.18.48.79brokerIP2=172.18.48.79brokerName=jiexiuâ€™MacbrokerClusterName=DefaultClusterbrokerId=0brokerPermission=6defaultTopicQueueNums=8autoCreateTopicEnable=trueclusterTopicEnable=truebrokerTopicEnable=trueautoCreateSubscriptionGroup=truemessageStorePlugIn=sendMessageThreadPoolNums=32pullMessageThreadPoolNums=24adminBrokerThreadPoolNums=16clientManageThreadPoolNums=16flushConsumerOffsetInterval=5000flushConsumerOffsetHistoryInterval=60000rejectTransactionMessage=falsefetchNamesrvAddrByAddressServer=falsesendThreadPoolQueueCapacity=10000pullThreadPoolQueueCapacity=10000filterServerNums=0longPollingEnable=trueshortPollingTimeMills=1000notifyConsumerIdsChangedEnable=truehighSpeedMode=falsecommercialEnable=truecommercialTimerCount=1commercialTransCount=1commercialBigCount=1transferMsgByHeap=truemaxDelayTime=40regionId=DefaultRegionregisterBrokerTimeoutMills=6000slaveReadEnable=falsedisableConsumeIfConsumerReadSlowly=falseconsumerFallbehindThreshold=0waitTimeMillsInSendQueue=200startAcceptSendRequestTimeStamp=0listenPort=10911serverWorkerThreads=8serverCallbackExecutorThreads=0serverSelectorThreads=3serverOnewaySemaphoreValue=256serverAsyncSemaphoreValue=64serverChannelMaxIdleTimeSeconds=120serverSocketSndBufSize=131072serverSocketRcvBufSize=131072serverPooledByteBufAllocatorEnable=trueuseEpollNativeSelector=falseclientWorkerThreads=4clientCallbackExecutorThreads=4clientOnewaySemaphoreValue=65535clientAsyncSemaphoreValue=65535connectTimeoutMillis=3000channelNotActiveInterval=60000clientChannelMaxIdleTimeSeconds=120clientSocketSndBufSize=131072clientSocketRcvBufSize=131072clientPooledByteBufAllocatorEnable=falseclientCloseSocketIfTimeout=falsestorePathRootDir=/Users/zhangyanghong/storestorePathCommitLog=/Users/zhangyanghong/store/commitlogmapedFileSizeCommitLog=1073741824mapedFileSizeConsumeQueue=6000000flushIntervalCommitLog=1000flushCommitLogTimed=falseflushIntervalConsumeQueue=1000cleanResourceInterval=10000deleteCommitLogFilesInterval=100deleteConsumeQueueFilesInterval=100destroyMapedFileIntervalForcibly=120000redeleteHangedFileInterval=120000## åˆ é™¤æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨4ç‚¹deleteWhen=04diskMaxUsedSpaceRatio=75## æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤48å°æ—¶fileReservedTime=72putMsgIndexHightWater=600000maxMessageSize=4194304checkCRCOnRecover=trueflushCommitLogLeastPages=4flushLeastPagesWhenWarmMapedFile=4096flushConsumeQueueLeastPages=2flushCommitLogThoroughInterval=10000flushConsumeQueueThoroughInterval=60000maxTransferBytesOnMessageInMemory=262144maxTransferCountOnMessageInMemory=32maxTransferBytesOnMessageInDisk=65536maxTransferCountOnMessageInDisk=8accessMessageInMemoryMaxRatio=40## æ˜¯å¦å¼€å¯æ¶ˆæ¯ç´¢å¼•åŠŸèƒ½messageIndexEnable=truemaxHashSlotNum=5000000maxIndexNum=20000000maxMsgsNumBatch=64## æ˜¯å¦æä¾›å®‰å…¨çš„æ¶ˆæ¯ç´¢å¼•æœºåˆ¶ï¼Œç´¢å¼•ä¿è¯ä¸ä¸¢messageIndexSafe=falsehaListenPort=10912haSendHeartbeatInterval=5000haHousekeepingInterval=20000haTransferBatchSize=32768haMasterAddress=haSlaveFallbehindMax=268435456## Brokerçš„è§’è‰²ï¼šASYNC_MASTERå¼‚æ­¥å¤åˆ¶Master; SYNC_MASTERåŒæ­¥åŒå†™MASTER; SLAVEbrokerRole=ASYNC_MASTERflushDiskType=ASYNC_FLUSHsyncFlushTimeout=5000messageDelayLevel=1s 5s 10s 30s 1m 2m 3m 4m 5m 6m 7m 8m 9m 10m 20m 30m 1h 2hflushDelayOffsetInterval=10000cleanFileForciblyEnable=truewarmMapedFileEnable=falseoffsetCheckInSlave=falsedebugLockEnable=falseduplicationEnable=falsediskFallRecorded=trueosPageCacheBusyTimeOutMills=1000defaultQueryMaxNum=32 å…¶ä¸­é‡è¦çš„é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526namesrvAddr=brokerIP1=172.18.48.79brokerName=jiexiuâ€™MacbrokerClusterName=DefaultClusterbrokerId=0autoCreateTopicEnable=trueautoCreateSubscriptionGroup=truerejectTransactionMessage=falsefetchNamesrvAddrByAddressServer=falsestorePathRootDir=/Users/zhangyanghong/storestorePathCommitLog=/Users/zhangyanghong/store/commitlogflushIntervalCommitLog=1000flushCommitLogTimed=falsedeleteWhen=04fileReservedTime=72maxTransferBytesOnMessageInMemory=262144maxTransferCountOnMessageInMemory=32maxTransferBytesOnMessageInDisk=65536maxTransferCountOnMessageInDisk=8accessMessageInMemoryMaxRatio=40messageIndexEnable=truemessageIndexSafe=falsehaMasterAddress=brokerRole=ASYNC_MASTERflushDiskType=ASYNC_FLUSHcleanFileForciblyEnable=true å¯åŠ¨broker sh mqbroker -n &#39;127.0.0.1:9876;127.0.0.1:9877&#39; -c ../conf/2m-noslave/broker-a.properties &gt; /dev/null 2&gt;&amp;1 &amp; é›†ç¾¤éªŒè¯ sh mqadmin clusterList -n 127.0.0.1:9876 è¾“å‡ºä¿¡æ¯ 123#Cluster Name #Broker Name #BID #Addr #Version #InTPS(LOAD) #OutTPS(LOAD) #PCWait(ms) #Hour #SPACEDefaultCluster broker-a 0 172.18.48.79:10911 V3_5_8 0.00(0,0ms) 0.00(0,0ms) 0 412299.47 0.5476DefaultCluster broker-b 0 172.18.48.79:12911 V3_5_8 0.00(0,0ms) 0.00(0,0ms) 0 412299.47 0.5476 â€‹ é»˜è®¤çš„é›†ç¾¤é…ç½®confå­ç›®å½•ä¸‹ 1232m-2s-async // ä¸¤ä¸ªmaster ä¸¤ä¸ªslaveå¼‚æ­¥2m-2s-sync // ä¸¤ä¸ªmaster ä¸¤ä¸ªslaveåŒæ­¥2m-noslave // ä¸¤ä¸ªmaster æ²¡æœ‰slave broker çš„masterå’Œslave (Slave ä¸å¯å†™ï¼Œä½†å¯è¯») å•ä¸ªmaster: é£Žé™©è¾ƒå¤§, ä¸å»ºè®®ç”Ÿäº§ä½¿ç”¨ å¤šmaster: é…ç½®ç®€å•ï¼Œæ¶ˆæ¯å¯é ï¼Œæ€§èƒ½æœ€é«˜ å•å°æœºå™¨å®•æœºæœŸé—´ï¼Œæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯åœ¨æœºå™¨æ¢å¤ä¹‹å‰ä¸å¯è®¢é˜…ï¼Œæ¶ˆæ¯å®žæ—¶æ€§ä¼šå—åˆ°å½±å“ å¤šmasterå¤šslaveï¼Œå¼‚æ­¥å¤åˆ¶: æ¯ä¸ª Master é…ç½®ä¸€ä¸ª Slaveï¼Œæœ‰å¤šå¯¹Master-Slaveï¼ŒHA é‡‡ç”¨å¼‚æ­¥å¤åˆ¶æ–¹å¼ï¼Œä¸»å¤‡æœ‰çŸ­æš‚æ¶ˆæ¯å»¶è¿Ÿï¼Œæ¯«ç§’çº§ ä¼˜ç‚¹: å³ä½¿ç£ç›˜æŸåï¼Œæ¶ˆæ¯ä¸¢å¤±çš„éžå¸¸å°‘ï¼Œä¸”æ¶ˆæ¯å®žæ—¶æ€§ä¸ä¼šå—å½±å“ï¼Œå› ä¸º Master å®•æœºåŽï¼Œæ¶ˆè´¹è€…ä»ç„¶å¯ä»¥ä»Ž Slave æ¶ˆè´¹ï¼Œæ­¤è¿‡ç¨‹å¯¹åº”ç”¨é€æ˜Žã€‚ä¸éœ€è¦äººå·¥å¹²é¢„ã€‚æ€§èƒ½åŒå¤š Master æ¨¡å¼å‡ ä¹Žä¸€æ · ç¼ºç‚¹: Master å®•æœºï¼Œç£ç›˜æŸåæƒ…å†µï¼Œä¼šä¸¢å¤±å°‘é‡æ¶ˆæ¯ å¤šmasterå¤šslaveï¼ŒåŒæ­¥åŒå†™: æ¯ä¸ª Master é…ç½®ä¸€ä¸ª Slaveï¼Œæœ‰å¤šå¯¹Master-Slaveï¼ŒHA é‡‡ç”¨åŒæ­¥åŒå†™æ–¹å¼ï¼Œä¸»å¤‡éƒ½å†™æˆåŠŸï¼Œå‘åº”ç”¨è¿”å›žæˆåŠŸ ä¼˜ç‚¹: æ•°æ®ä¸ŽæœåŠ¡éƒ½æ— å•ç‚¹ï¼ŒMasterå®•æœºæƒ…å†µä¸‹ï¼Œæ¶ˆæ¯æ— å»¶è¿Ÿï¼ŒæœåŠ¡å¯ç”¨æ€§ä¸Žæ•°æ®å¯ç”¨æ€§éƒ½éžå¸¸é«˜ ç¼ºç‚¹: æ€§èƒ½æ¯”å¼‚æ­¥å¤åˆ¶æ¨¡å¼ç•¥ä½Žï¼Œå¤§çº¦ä½Ž 10%å·¦å³ï¼Œå‘é€å•ä¸ªæ¶ˆæ¯çš„ RT ä¼šç•¥é«˜ã€‚ç›®å‰ä¸»å®•æœºåŽï¼Œå¤‡æœºä¸èƒ½è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸»æœºï¼ŒåŽç»­ä¼šæ”¯æŒè‡ªåŠ¨åˆ‡æ¢åŠŸèƒ½ã€‚ é—®é¢˜ å‡ºçŽ° Lock failed,MQ already started è§£å†³æ–¹æ¡ˆ: ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„storePathRootDiré¡¹ å¯åŠ¨ mqnamesrv / mqbrokeræœåŠ¡æŠ¥é”™ï¼Œæ˜¾ç¤ºå†…å­˜ä¸å¤Ÿï¼Œéœ€å¤§äºŽ2Gï¼Ÿå…·ä½“è¡¨çŽ°: â€œVM warning: INFO: OS::commit_memory(0x00000006c0000000, 2147483648, 0) faild; error=â€™Cannot allocate memoryâ€™ (errno=12)â€ è§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹/RocketMQ/devnev/bin/ ä¸‹çš„æœåŠ¡å¯åŠ¨è„šæœ¬ runserver.sh ã€runbroker.sh ä¸­å¯¹äºŽå†…å­˜çš„é™åˆ¶ï¼Œæ”¹æˆå¦‚ä¸‹ç¤ºä¾‹ï¼š JAVA_OPT=&quot;${JAVA_OPT} -server -Xms128m -Xmx128m -Xmn128m -XX:PermSize=128m -XX:MaxPermSize=128m&quot; â€‹ å¯åŠ¨rocketmq-consolemvn spring-boot:run or java -jar rocketmq-console-ng-1.0.0.jar --server.port=12581 --rocketmq.config.namesrvAddr=10.89.0.64:9876;10.89.0.65:9876 topicrocketmqä¸­ä¸€ä¸ªbroker-nameå…¶å®žå°±ç›¸å½“äºŽkafka-brokerä¸­çš„ä¸€ä¸ªpartitionï¼Œè€Œrocketmqæ¯ä¸€ä¸ªslaveå°±ç›¸å½“äºŽkafkaä¸­çš„ä¸€ä¸ªreplicationï¼Œè¿™ç§æƒ…å†µï¼Œæ‰€ä»¥rocketmqçš„ç‰¹ç‚¹ç›¸å½“äºŽå•ä¸ªpartitionæ”¯æŒå¤šé˜Ÿåˆ—ï¼Œå¤§è‡´çš„åŽŸç†å›¾å¦‚ä¸‹ï¼š é»˜è®¤: ä¸€ä¸ªtopicçš„é˜Ÿåˆ—æ•°æ˜¯8 é—®é¢˜ producerç”Ÿäº§æ¶ˆæ¯è¿‡å¤šï¼Œcustomeræ¥ä¸åŠæ¶ˆè´¹? æ¶ˆæ¯çš„é‡è¯•æœºåˆ¶ brokerå’Œclient/producerç‰ˆæœ¬ä¸ä¸€è‡´é—®é¢˜ è§£å†³: ä¼šå¯¼è‡´å·²æ¶ˆè´¹æ¶ˆæ¯å †ç§¯ï¼Œé‡å¯customerä¼šé‡å¤æ¶ˆè´¹ï¼Œæ›´æ¢ä¸€è‡´ç‰ˆæœ¬ é˜Ÿåˆ—ä¸ªæ•°è®¾ç½® producerå‘é€æ¶ˆæ¯æ—¶å€™è®¾ç½®ï¼Œç‰¹åˆ«æ³¨æ„ï¼šåŒä¸€ä¸ªtopicä»…å½“ç¬¬ä¸€æ¬¡åˆ›å»ºçš„æ—¶å€™è®¾ç½®æœ‰æ•ˆï¼Œä»¥åŽä¿®æ”¹æ— æ•ˆï¼Œé™¤éžä¿®æ”¹brokeræœåŠ¡å™¨ä¸Šçš„consume.jsonæ–‡ä»¶ï¼Œ demoï¼šmqProducer.setDefaultTopicQueueNums(5) å‚è€ƒï¼šhttp://www.mamicode.com/info-detail-327693.html å…¶ä»–å¸¸è§é—®é¢˜3.2.4 RabbitMQå®‰è£…erlang ä½¿ç”¨kerlå®‰è£…å’Œç®¡ç†erlangï¼Œå‚è€ƒ Erlangç‰ˆæœ¬ç®¡ç†å·¥å…·: Kerl , å®‰è£…Erlang/OTPçš„ç®€å•æ–¹æ³•, å…¶ä»–å®‰è£…æ–¹æ³• åœ¨CentOSä¸Šå®‰è£…erlang è®¾ç½®çŽ¯å¢ƒå˜é‡ å®‰è£… RabbitMQ ä¸‹è½½rabbit rpmåŒ… é”™è¯¯ 1234Error: Package: rabbitmq-server-3.7.2-1.el7.noarch (/rabbitmq-server-3.7.2-1.el7.noarch) Requires: erlang &gt;= 19.3 You could try using --skip-broken to work around the problem You could try running: rpm -Va --nofiles --nodigest æ‰§è¡Œ rpm --nodeps -ivh rabbitmq-server-3.7.2-1.el7.noarch.rpm å¯åŠ¨å‘½ä»¤(/usr/lib/rabbitmq /etc/rabbitmq â€”- /usr/share/doc/rabbitmq-server-3.7.2) 12345service rabbitmq-server startservice rabbitmq-server stopservice rabbitmq-server restartservice rabbitmq-server status./rabbitmqctl stop å¼€å¯ç®¡ç†åŠŸèƒ½ rabbitmq-plugins enable rabbitmq_management å¯åŠ¨æœåŠ¡ rabbitmq-server -detached æ·»åŠ ç”¨æˆ·æƒé™ 12rabbitmqctl add_user albert passwordrabbitmqctl set_user_tags albert administrator å¼€æœºè‡ªå¯åŠ¨ chkconfig rabbitmq-server on ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¼€å¯è¿œç¨‹ç”¨æˆ·è®¿é—® 12cp /usr/share/doc/rabbitmq-server-3.7.2/rabbitmq.config.example /etc/rabbitmq/ mv rabbitmq.config.example rabbitmq.config å¢žåŠ  {loopback_users, []} é›†ç¾¤éƒ¨ç½² RabbitMQ é…ç½®åˆæ­¥ Centos7 å®‰è£…rabbitmq reference How-to-install-rabbitmq-on-centos-7 â€‹ é‡è¦æ¦‚å¿µ: å·¦ä¾§ P ä»£è¡¨ ç”Ÿäº§è€…ï¼Œä¹Ÿå°±æ˜¯å¾€ RabbitMQ å‘æ¶ˆæ¯çš„ç¨‹åºã€‚ ä¸­é—´å³æ˜¯ RabbitMQï¼Œå…¶ä¸­åŒ…æ‹¬äº† äº¤æ¢æœº å’Œ é˜Ÿåˆ—ã€‚ å³ä¾§ C ä»£è¡¨ æ¶ˆè´¹è€…ï¼Œä¹Ÿå°±æ˜¯å¾€ RabbitMQ æ‹¿æ¶ˆæ¯çš„ç¨‹åºã€‚ é‡è¦çš„æ¦‚å¿µï¼šè™šæ‹Ÿä¸»æœºï¼Œäº¤æ¢æœºï¼Œé˜Ÿåˆ—ï¼Œå’Œç»‘å®š è™šæ‹Ÿä¸»æœºï¼šä¸€ä¸ªè™šæ‹Ÿä¸»æœºæŒæœ‰ä¸€ç»„äº¤æ¢æœºã€é˜Ÿåˆ—å’Œç»‘å®šã€‚ä¸ºä»€ä¹ˆéœ€è¦å¤šä¸ªè™šæ‹Ÿä¸»æœºå‘¢ï¼Ÿå¾ˆç®€å•ï¼ŒRabbitMQå½“ä¸­ï¼Œç”¨æˆ·åªèƒ½åœ¨è™šæ‹Ÿä¸»æœºçš„ç²’åº¦è¿›è¡Œæƒé™æŽ§åˆ¶ã€‚ å› æ­¤ï¼Œå¦‚æžœéœ€è¦ç¦æ­¢Aç»„è®¿é—®Bç»„çš„äº¤æ¢æœº/é˜Ÿåˆ—/ç»‘å®šï¼Œå¿…é¡»ä¸ºAå’ŒBåˆ†åˆ«åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿä¸»æœºã€‚æ¯ä¸€ä¸ªRabbitMQæœåŠ¡å™¨éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„è™šæ‹Ÿä¸»æœºâ€œ/â€ã€‚ äº¤æ¢æœºï¼šExchange ç”¨äºŽè½¬å‘æ¶ˆæ¯ï¼Œä½†æ˜¯å®ƒä¸ä¼šåšå­˜å‚¨ ï¼Œå¦‚æžœæ²¡æœ‰ Queue bind åˆ° Exchange çš„è¯ï¼Œå®ƒä¼šç›´æŽ¥ä¸¢å¼ƒæŽ‰ Producer å‘é€è¿‡æ¥çš„æ¶ˆæ¯ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ¦‚å¿µï¼šè·¯ç”±é”® ã€‚æ¶ˆæ¯åˆ°äº¤æ¢æœºçš„æ—¶å€™ï¼Œäº¤äº’æœºä¼šè½¬å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆç©¶ç«Ÿè½¬å‘åˆ°å“ªä¸ªé˜Ÿåˆ—ï¼Œå°±è¦æ ¹æ®è¯¥è·¯ç”±é”®ã€‚ ç»‘å®šï¼šä¹Ÿå°±æ˜¯äº¤æ¢æœºéœ€è¦å’Œé˜Ÿåˆ—ç›¸ç»‘å®šï¼Œè¿™å…¶ä¸­å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚ äº¤æ¢æœº(Exchange)äº¤æ¢æœºçš„åŠŸèƒ½ä¸»è¦æ˜¯æŽ¥æ”¶æ¶ˆæ¯å¹¶ä¸”è½¬å‘åˆ°ç»‘å®šçš„é˜Ÿåˆ—ï¼Œäº¤æ¢æœºä¸å­˜å‚¨æ¶ˆæ¯ï¼Œåœ¨å¯ç”¨ackæ¨¡å¼åŽï¼Œäº¤æ¢æœºæ‰¾ä¸åˆ°é˜Ÿåˆ—ä¼šè¿”å›žé”™è¯¯ã€‚äº¤æ¢æœºæœ‰å››ç§ç±»åž‹ï¼šDirect, topic, Headers and Fanout Directï¼šdirect ç±»åž‹çš„è¡Œä¸ºæ˜¯â€å…ˆåŒ¹é…, å†æŠ•é€â€. å³åœ¨ç»‘å®šæ—¶è®¾å®šä¸€ä¸ª routing_key, æ¶ˆæ¯çš„routing_key åŒ¹é…æ—¶, æ‰ä¼šè¢«äº¤æ¢å™¨æŠ•é€åˆ°ç»‘å®šçš„é˜Ÿåˆ—ä¸­åŽ». Topicï¼šæŒ‰è§„åˆ™è½¬å‘æ¶ˆæ¯ï¼ˆæœ€çµæ´»ï¼‰ Headersï¼šè®¾ç½®header attributeå‚æ•°ç±»åž‹çš„äº¤æ¢æœº Fanoutï¼šè½¬å‘æ¶ˆæ¯åˆ°æ‰€æœ‰ç»‘å®šé˜Ÿåˆ— æ€§èƒ½æ¯”è¾ƒ: RabbitMQä¸‰ç§Exchangeæ¨¡å¼(fanout,direct,topic)çš„æ€§èƒ½æ¯”è¾ƒ ç†è§£rabbitmqçš„æ¦‚å¿µ : http://tryrabbitmq.com/ ç¤ºä¾‹ä»£ç : boot-in-action reference: æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶è°ƒç ”æ–‡æ¡£ å‡ æ¬¾æ¶ˆæ¯ä¸­é—´çš„è°ƒç ” æ¶ˆæ¯é˜Ÿåˆ—åŠå¸¸è§æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç» Understanding When to use RabbitMQ or Apache Kafka é«˜åžåã€é«˜å¯ç”¨MQå¯¹æ¯”åˆ†æž Kafkaã€RabbitMQã€RocketMQæ¶ˆæ¯ä¸­é—´ä»¶çš„å¯¹æ¯” â€”â€” æ¶ˆæ¯å‘é€æ€§èƒ½ æ¶ˆæ¯é˜Ÿåˆ—è®¾è®¡ç²¾è¦ åˆ†å¸ƒå¼å¼€æ”¾æ¶ˆæ¯ç³»ç»Ÿ(RocketMQ)çš„åŽŸç†ä¸Žå®žè·µ RabbitMQè¯¦è§£-RabbitMQ%E8%AF%A6%E8%A7%A3.html) æ¶ˆæ¯é˜Ÿåˆ—æŽ¢ç§˜-RabbitMQæ¶ˆæ¯é˜Ÿåˆ—ä»‹ç» RabbitMqå»¶è¿Ÿã€é‡è¯•é˜Ÿåˆ—åŠSpring Bootçš„é»‘ç§‘æŠ€ rabbitmqå¯é å‘é€çš„è‡ªåŠ¨é‡è¯•æœºåˆ¶ â€‹]]></content>
      <tags>
        <tag>mq</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é“¾è·¯ç›‘æŽ§æµ…æž---ä»¥sleuth-zipkinå’Œskywalkingä¸ºä¾‹]]></title>
    <url>%2F2018%2F01%2F02%2F%E9%93%BE%E8%B7%AF%E7%9B%91%E6%8E%A7%E6%B5%85%E6%9E%90---%E4%BB%A5sleuth-zipkin%E5%92%8Cskywalking%E4%B8%BA%E4%BE%8B%2F</url>
    <content type="text"><![CDATA[APM (Application Performance Management &amp; Monitoring)å››ç§å®žçŽ°æ€è·¯ åŸºäºŽæ—¥å¿—ç³»ç»Ÿï¼ŒæŽ¢é’ˆåªè´Ÿè´£å¯¹æ—¥å¿—åŠ ä¸Šç¼–å·ï¼Œåˆç±»ä¼¼ELKçš„ç³»ç»Ÿè¿›è¡Œæ”¶é›†ã€å¤„ç†ã€å±•ç¤ºã€‚è¿™æ–¹é¢æ²¡æœ‰å¾ˆæˆç†Ÿçš„äº§å“ï¼Œä¸€èˆ¬éƒ½å±žäºŽå…¬å¸å†…éƒ¨å°è£…çš„æ¡†æž¶ã€‚ è‡ªåŠ¨æŽ¢é’ˆï¼Œé€‚ç”¨è¯­è¨€ï¼šJavaã€C#ã€PHPã€Node.jsç­‰ç­‰å­˜åœ¨VMçš„è¯­è¨€ã€‚ç»å¯¹å¤§å¤šæ•°çš„å•†ä¸šäº§å“å’Œçƒ­é—¨çš„å¼€æºäº§å“éƒ½å±žäºŽè¿™ä¸ªç³»åˆ—ã€‚ å…¨æ‰‹åŠ¨æŽ¢é’ˆï¼Œä¼˜åŠ¿æ˜¯é€‚ç”¨èŒƒå›´å¹¿ï¼Œæœ€æœ‰åçš„å°±æ˜¯Zipkinçš„æ•´ä¸ªç”Ÿæ€ç³»ç»Ÿï¼Œåˆ†å¸ƒå¼è¿½è¸ªå‡ ä¹Žæ— å¤„ä¸åœ¨ã€‚ä¹Ÿæ˜¯çŽ°åœ¨å…¨çƒè¿ç”¨æœ€å¹¿æ³›çš„åˆ†å¸ƒå¼ç›‘æŽ§ç³»ç»Ÿã€‚ åŒæ—¶æ”¯æŒè‡ªåŠ¨å’Œæ‰‹åŠ¨æ¨¡å¼çš„æŽ¢é’ˆï¼Œé€‚ç”¨è¯­è¨€åŒæ ·æ˜¯Javaã€C#ã€PHPã€Node.jsç­‰ç­‰å­˜åœ¨VMçš„è¯­è¨€ï¼Œç”±äºŽæŠ€æœ¯å¤æ‚æ€§æé«˜ï¼Œè¿ç”¨çš„è¾ƒå°‘ã€‚ä¼˜ç‚¹æ˜¯å…¥é—¨æ–¹ä¾¿ï¼ŒåŒæ—¶ä½¿ç”¨çµæ´»ã€‚å•†ä¸šä¸Šä¸»è¦æ˜¯Instanaï¼Œå¼€æºä¸»è¦æ˜¯sky-walkingæä¾›äº†æŠ€æœ¯è§£å†³æ–¹æ¡ˆã€‚ ä¸‰å¤§æ¨¡å—: æŽ¢é’ˆæˆ–sdk ï¼šè´Ÿè´£æ•°æ®é‡‡é›†å’Œå‘é€ã€‚æŽ¢é’ˆæˆ– SDK æ˜¯åº”ç”¨ç¨‹åºçš„æ”¶é›†ç«¯ã€‚ä¸€èˆ¬ä½¿ç”¨æ’ä»¶çš„æ¨¡å¼ï¼Œè‡ªåŠ¨æŽ¢é’ˆä¸€èˆ¬æ˜¯ä¸éœ€è¦ä¿®æ”¹ç¨‹åºï¼Œè€Œ SDK åˆ™æ˜¯éœ€è¦ä¿®æ”¹éƒ¨åˆ†é…ç½®æˆ–è€…ä»£ç ã€‚skywalking å°±æ˜¯è‡ªåŠ¨æŽ¢é’ˆä¸ºä¸»ï¼Œzipkin-brave å°±æ˜¯ Zipkin çš„ Java æ‰‹åŠ¨æŽ¢é’ˆ collectoræ¨¡å— ï¼šè´Ÿè´£æ•°æ®æ”¶é›†ã€åˆ†æžã€æ±‡æ€»ã€å‘Šè­¦å’Œå­˜å‚¨ã€‚Collector æ¨¡å—ï¼Œè¿™ä¸ªæ ¹æ®ä¸åŒçš„ APM å®žçŽ°ï¼Œå¯èƒ½ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­ç³»ç»Ÿæž„æˆã€‚Collector è´Ÿè´£å¯¹æŽ¢é’ˆå’Œ SDK æä¾›ç½‘ç»œæŽ¥å£ï¼ˆTCPã€UDPã€HTTP ä¸åŒå½¢å¼æŽ¥å£ï¼‰ UI ï¼Œè´Ÿè´£é«˜å®žæ—¶æ€§å±•çŽ°ã€‚åŒ…æ‹¬ä½†ä¸é™äºŽ Trace çš„æŸ¥è¯¢ï¼Œç»Ÿè®¡æ•°æ®å±•çŽ°ï¼Œæ‹“æ‰‘å›¾å±•çŽ°ï¼ŒVM æˆ–è¿›ç¨‹ç›¸å…³ä¿¡æ¯ç­‰ï¼Œç›‘æŽ§å…³é”®æ•°æ®çš„å±•çŽ° ç›‘æŽ§æ¦‚è¿°-sleuthå®žçŽ° Sleuth-Zipkinsleuthç”¨æ¥å’Œzipkin(twitter)é›†æˆï¼Œè‡ªåŠ¨å®Œæˆspan, traceç­‰ä¿¡æ¯çš„ç”Ÿæˆï¼ŒæŽ¥å…¥http request, ä»¥åŠå‘zipkin server å‘é€é‡‡é›†ä¿¡æ¯ï¼Œå®žçŽ°åˆ†å¸ƒå¼æœåŠ¡è·Ÿè¸ªèƒ½åŠ›ã€‚å…¨é“¾è·¯spring cloud sleuth+zipkin ç»“æž„å›¾ æ­å»ºzipkin-server å¼•å…¥ 123456789&lt;dependency&gt; &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt; &lt;artifactId&gt;zipkin-server&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt; &lt;artifactId&gt;zipkin-autoconfigure-ui&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt; æ·»åŠ æ³¨è§£ @EnableZipkinServer restæœåŠ¡è°ƒç”¨å»ºç«‹ä¸¤ä¸ªåŸºæœ¬çš„restæœåŠ¡ï¼Œä¸å†èµ˜è¿° å¼•å…¥ 12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;&lt;/dependency&gt; æ·»åŠ é…ç½® spring.zipkin.base-url=http://127.0.0.1:9418 å¯åŠ¨ LOG: aplication-name.TraceId.SpanId.BOOL å…¶ä»–é…ç½®1spring.sleuth.sampler.percentage=1 æ•°æ®æŒä¹…åŒ– zipkin-serverå¼•å…¥ 12345678910111213141516&lt;!--æ­¤ä¾èµ–ä¼šè‡ªåŠ¨å¼•å…¥spring-cloud-sleuth-streamå¹¶ä¸”å¼•å…¥zipkinçš„ä¾èµ–åŒ…(å¯ä»¥åŽ»é™¤zipkin-server) --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-sleuth-zipkin-stream&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-stream-rabbit&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--æŒä¹…åŒ–æ•°æ®åˆ°elasticsearch--&gt;&lt;dependency&gt; &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt; &lt;artifactId&gt;zipkin-autoconfigure-storage-elasticsearch-http&lt;/artifactId&gt; &lt;version&gt;2.4.2&lt;/version&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt; clientå¼•å…¥ none æ³¨è§£ä¿®æ”¹ @EnableZipkinStreamServer â€‹ é—®é¢˜ 4.1. å¼•å…¥esåŽä¸èƒ½æ˜¾ç¤ºdependency tree zipkin-dependencies 12wget -O zipkin-dependencies.jar 'https://search.maven.org/remote_content?g=io.zipkin.dependencies&amp;a=zipkin-dependencies&amp;v=LATEST'STORAGE_TYPE=elasticsearch ES_HOSTS=host1,host2 java -jar zipkin-dependencies.jar æ¦‚å¿µ Span ï¼šåŸºæœ¬å·¥ä½œå•å…ƒï¼Œå‘é€ä¸€ä¸ªè¿œç¨‹è°ƒåº¦ä»»åŠ¡ å°±ä¼šäº§ç”Ÿä¸€ä¸ªSpanï¼ŒSpanæ˜¯ä¸€ä¸ª64ä½IDå”¯ä¸€æ ‡è¯†çš„ï¼ŒTraceæ˜¯ç”¨å¦ä¸€ä¸ª64ä½IDå”¯ä¸€æ ‡è¯†çš„ï¼ŒSpanè¿˜æœ‰å…¶ä»–æ•°æ®ä¿¡æ¯ï¼Œæ¯”å¦‚æ‘˜è¦ã€æ—¶é—´æˆ³äº‹ä»¶ã€Spançš„IDã€ä»¥åŠè¿›åº¦ID Trace ï¼šä¸€ç³»åˆ—Spanç»„æˆçš„ä¸€ä¸ªæ ‘çŠ¶ç»“æž„ã€‚è¯·æ±‚ä¸€ä¸ªå¾®æœåŠ¡ç³»ç»Ÿçš„APIæŽ¥å£ï¼Œè¿™ä¸ªAPIæŽ¥å£ï¼Œéœ€è¦è°ƒç”¨å¤šä¸ªå¾®æœåŠ¡ï¼Œè°ƒç”¨æ¯ä¸ªå¾®æœåŠ¡éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„Spanï¼Œæ‰€æœ‰ç”±è¿™ä¸ªè¯·æ±‚äº§ç”Ÿçš„Spanç»„æˆäº†è¿™ä¸ªTraceã€‚ Annotation ï¼šç”¨æ¥åŠæ—¶è®°å½•ä¸€ä¸ªäº‹ä»¶çš„ï¼Œä¸€äº›æ ¸å¿ƒæ³¨è§£ç”¨æ¥å®šä¹‰ä¸€ä¸ªè¯·æ±‚çš„å¼€å§‹å’Œç»“æŸ ã€‚è¿™äº›æ³¨è§£åŒ…æ‹¬ä»¥ä¸‹ï¼š cs - Client Sent -å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè¿™ä¸ªæ³¨è§£æè¿°äº†è¿™ä¸ªSpançš„å¼€å§‹ sr - Server Received -æœåŠ¡ç«¯èŽ·å¾—è¯·æ±‚å¹¶å‡†å¤‡å¼€å§‹å¤„ç†å®ƒï¼Œå¦‚æžœå°†å…¶srå‡åŽ»csæ—¶é—´æˆ³ä¾¿å¯å¾—åˆ°ç½‘ç»œä¼ è¾“çš„æ—¶é—´ ss - Server Sent ï¼ˆæœåŠ¡ç«¯å‘é€å“åº”ï¼‰â€“è¯¥æ³¨è§£è¡¨æ˜Žè¯·æ±‚å¤„ç†çš„å®Œæˆ(å½“è¯·æ±‚è¿”å›žå®¢æˆ·ç«¯)ï¼Œå¦‚æžœssçš„æ—¶é—´æˆ³å‡åŽ»sræ—¶é—´æˆ³ï¼Œå°±å¯ä»¥å¾—åˆ°æœåŠ¡å™¨è¯·æ±‚çš„æ—¶é—´ã€‚ cr - Client Received ï¼ˆå®¢æˆ·ç«¯æŽ¥æ”¶å“åº”ï¼‰-æ­¤æ—¶Spançš„ç»“æŸï¼Œå¦‚æžœcrçš„æ—¶é—´æˆ³å‡åŽ»csæ—¶é—´æˆ³ä¾¿å¯ä»¥å¾—åˆ°æ•´ä¸ªè¯·æ±‚æ‰€æ¶ˆè€—çš„æ—¶é—´ã€‚ Log: spanè·¨åº¦å†…å‘ç”Ÿçš„äº‹ä»¶ï¼Œå¼‚å¸¸ç­‰ï¼ŒåŒ…å«tag, annotation, log, eventç­‰ sky-walkingæä¾›åˆ†å¸ƒå¼äº‹åŠ¡è·Ÿè¸ªï¼Œä»¥åŠAPMæ€§èƒ½ç›‘æŽ§ã€‚ skywalkingï¼Œ ä½¿ç”¨javaagentæŠ€æœ¯ä½¿å¾—åº”ç”¨ç›‘æŽ§0è€¦åˆ æž¶æž„ éƒ¨ç½² ä¸‹è½½agent, collector, ui ä¸‰ä¸ªç»„ä»¶ å¯åŠ¨collector, ui ä¿®æ”¹application-name, å¯åŠ¨agent -javaagent:/path/to/skywalking-agent/skywalking-agent.jar å…¶ä»–çš„ä¸€äº›APMå·¥å…·: Pinpoint, CAT, Xhprof/Xhgui]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AWS linux(AMI) æ­å»ºVPN]]></title>
    <url>%2F2016%2F11%2F02%2FAWS%20linux(AMI)%20%E6%90%AD%E5%BB%BAVPN%2F</url>
    <content type="text"><![CDATA[AWSæä¾›ä¸€å¹´çš„å…è´¹è¯•ç”¨($2.00)ï¼Œè¯•ç€åœ¨amazon linux(AMI) ä¸Šæ­å»ºvpnï¼Œç®€è¦è®°å½•ä¸€ä¸‹æ­å»ºè¿‡ç¨‹ã€‚ å®‰è£…è¿‡ç¨‹å¦‚ä¸‹ï¼š sshé…ç½® ç»™pemæƒé™ chmod 400 data_korea.pem ç™»å½•ec2 ssh -i &quot;data_korea.pem&quot; ec2-user@ec2-52-78-70-0.ap-northeast-2.compute.amazonaws.com ä¿®æ”¹é»˜è®¤ç”¨æˆ·å’Œrootå¯†ç  sudo passwd ec2-user suod paddwd root åˆ‡æ¢rootç”¨æˆ·ï¼Œä¿®æ”¹æ–‡ä»¶ su root vim /etc/ssh/sshd_config 123PermitRootLogin yesPubkeyAuthentication noPasswordAuthentication yes rebootæˆ–è€…é‡å¯ssh /etc/init.d/sshd restart vpnå®‰è£… å®‰è£…ppp yum install ppp ä¸‹è½½å¹¶å®‰è£…pptpd wget http://poptop.sourceforge.net/yum/stable/packages/ppp-2.4.5-33.0.fc21.x86_64.rpm wget http://poptop.sourceforge.net/yum/stable/packages/pptpd-1.4.0-1.el6.x86_64.rpm rpm -Uhv pptpd*.rpm æ·»åŠ DNSæœåŠ¡å™¨ (å¯é€‰) æ‰“å¼€vim /etc/ppp/options.pptpd æ–‡ä»¶å¹¶æ·»åŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š ms-dns 8.8.8.8 ms-dns 8.8.4.4 ms-dns 4.4.4.4 ä»¥ä¸Š2ä¸ªæ˜¯Googleæä¾›çš„å…è´¹DNS æ·»åŠ  VPN å¸å· åœ¨/etc/ppp/chap-secretsæ–‡ä»¶ä¸­æ·»åŠ VPNç”¨æˆ·ï¼Œæ ¼å¼ä¸ºâ€œç”¨æˆ·å æœåŠ¡å™¨ å¯†ç  IPåœ°å€â€ï¼š vpnuser pptpd myVPN$99 * æ‰“å¼€IPè½¬å‘(IP Forward)åŠŸèƒ½ åœ¨ /etc/sysctl.conf æ–‡ä»¶ä¸­ä¿®æ”¹ï¼š net.ipv4.ip_forward = 1 ä¿å­˜è®¾ç½® sysctl -p åœ¨ IP Tables ä¸­å¼€å¯ IP ä¼ªè£…(IP Masquerade) iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE å¦‚æžœä½ éœ€è¦è¿™ä¸ªè®¾ç½®åœ¨é‡å¯ä¹‹åŽä¾ç„¶æœ‰æ•ˆï¼Œåˆ™éœ€è¦æŠŠè¿™ä¸€è¡Œæ·»åŠ åˆ° /etc/rc.local çš„æœ«å°¾ã€‚ æŠŠ pptpd è®¾ç½®æˆè‡ªåŠ¨è¿è¡Œçš„ chkconfig pptpd on é‡å¯pptpdæœåŠ¡ service pptpd restart ec2æŽ§åˆ¶å°æ‰“å¼€TCPçš„1723ç«¯å£ï¼Œè¿™æ˜¯pptpdçš„é»˜è®¤è¿žæŽ¥ç«¯å£ã€‚ Referenceï¼šhttps://leonax.net/p/3274/install-vpn-server-on-amazon-ec2/ AMI è½¯ä»¶æ›´æ–° jdk æ›´æ–° 12345rpm -qa|grep java //æŸ¥è¯¢ç³»ç»Ÿjdkrpm -e --allmatches --nodeps java-1.6.0-openjdk-1.6.0.37-1.13.9.4.el5_11 //åˆ é™¤è€ç‰ˆæœ¬yum -y list java* (yum search jdk) //æŸ¥è¯¢è½¯ä»¶åŒ…å†…çš„jdkyum install java-1.8.0-openjdk.x86_64 //å®‰è£…æ–°ç‰ˆæœ¬java -version //éªŒè¯ jdkçš„å®‰è£…è·¯å¾„åŠ å…¥åˆ°JAVA_HOME vi /etc/profile 12345#set java environmentJAVA_HOME=/usr/lib/jvm/jre-1.6.0-openjdk.x86_64PATH=$PATH:$JAVA_HOME/binCLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jarexport JAVA_HOME CLASSPATH PATH . /etc/profile]]></content>
      <tags>
        <tag>vpn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLå®šæ—¶ä»»åŠ¡]]></title>
    <url>%2F2016%2F08%2F04%2FMySQL%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹æ•°æ®å®šæ—¶æ›´æ–°éžå¸¸æœ‰å¿…è¦ï¼Œè‡ªMySQL5.1.6èµ·ï¼Œå¢žåŠ äº†äº‹ä»¶è°ƒåº¦å™¨ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡ŒæŸäº›å®šæ—¶ä»»åŠ¡ã€‚ç®€è¦è®°å½•ä¸€ä¸‹åˆ›å»ºè¿‡ç¨‹ã€‚ é…ç½® windows10 MySQL5.6 è¿‡ç¨‹å¼€å¯event_scheduler set global event_scheduler = 1; my.cnf åŠ ä¸Š event_scheduler = 1 set global event_scheduler = ON; mysqld --event_scheduler=1; æŸ¥çœ‹æ˜¯å¦å¼€å¯äº†event_scheduler show varuables like &#39;event_scheduler&#39;; select @@event_scheduler; show processlist; åˆ›å»ºäº‹ä»¶(create event)è¯­æ³•123456CREATE EVENT [IFNOT EXISTS] event_nameONSCHEDULE schedule[ONCOMPLETION [NOT] PRESERVE][ENABLE | DISABLE][COMMENT &apos;comment&apos;]DO sql_statement; schedual: 12AT TIMESTAMP [+ INTERVAL INTERVAL]| EVERY INTERVAL [STARTS TIMESTAMP] [ENDS TIMESTAMP] INTERVAL: 123quantity &#123;YEAR | QUARTER | MONTH | DAY | HOUR | MINUTE |WEEK | SECOND | YEAR_MONTH | DAY_HOUR | DAY_MINUTE |DAY_SECOND | HOUR_MINUTE | HOUR_SECOND | MINUTE_SECOND&#125; ç¤ºä¾‹ æ¯ç§’æ’å…¥ä¸€æ¡è®°å½• 12345USE tarena;CREATE TABLE aaa (timeline TIMESTAMP);CREAT EEVENT e_test_insertON SCHEDULE EVERY 1 SECONDDO INSERTINTO tarena.aaa VALUES(CURRENT_TIMESTAMP); 5å¤©åŽæ¸…ç©ºè¡¨ 123CREATE EVENT e_testON SCHEDULE AT CURRENT_TIMESTAMP + INTERVAL 5 DAYDO TRUNCATETABLE tarena.aaa; é¢„çº¦æ¸…ç©º 123CREATE EVENT e_testON SCHEDULE AT TIMESTAMP &apos;2007-07-20 12:00:00&apos;DO TRUNCATETABLE tarena.aaa; å®šæ—¶æ¸…ç©º 123CREATE EVENT e_testON SCHEDULE EVERY 1 DAYDO TRUNCATETABLE tarena.aaa; é¢„çº¦å®šæ—¶æ¸…ç©º 1234CREATE EVENT e_testONSCHEDULE EVERY 1 DAYSTARTS CURRENT_TIMESTAMP+ INTERVAL 5 DAYDO TRUNCATETABLE tarena.aaa; å®šæ—¶æ¸…ç©ºï¼Œä¸€æ®µæ—¶é—´åŽåœæ­¢ 1234CREATE EVENT e_testON SCHEDULE EVERY 1 DAYENDS CURRENT_TIMESTAMP+ INTERVAL 5 DAYDO TRUNCATETABLE test.aaa; é¢„çº¦å®šæ—¶æ¸…ç©ºï¼Œä¸€æ®µæ—¶é—´åŽåœæ­¢ 12345CREATE EVENT e_testON SCHEDULE EVERY 1 DAYSTARTS CURRENT_TIMESTAMP+ INTERVAL 5 DAYENDS CURRENT_TIMESTAMP+ INTERVAL 1 MONTHDO TRUNCATETABLE test.aaa; å®šæ—¶æ¸…ç©ºï¼Œæ‰§è¡Œä¸€æ¬¡åŽç»ˆæ­¢[ON COMPLETION [NOT] PRESERVE]å¯ä»¥è®¾ç½®è¿™ä¸ªäº‹ä»¶æ˜¯æ‰§è¡Œä¸€æ¬¡è¿˜æ˜¯æŒä¹…æ‰§è¡Œï¼Œé»˜è®¤ä¸ºNOT PRESERVEã€‚ 1234CREATE EVENT e_testON SCHEDULE EVERY 1 DAYON COMPLETION NOT PRESERVEDO TRUNCATETABLE test.aaa; [ENABLE | DISABLE]å¯æ˜¯è®¾ç½®è¯¥äº‹ä»¶åˆ›å»ºåŽçŠ¶æ€æ˜¯å¦å¼€å¯æˆ–å…³é—­ï¼Œé»˜è®¤ä¸ºENABLEã€‚ [COMMENT â€˜commentâ€™]å¯ä»¥ç»™è¯¥äº‹ä»¶åŠ ä¸Šæ³¨é‡Šã€‚ ä¿®æ”¹äº‹ä»¶(ALTER EVENT)è¯­æ³•1234567ALTER EVENT event_name[ONSCHEDULE schedule][RENAME TOnew_event_name][ONCOMPLETION [NOT] PRESERVE][COMMENT &apos;comment&apos;][ENABLE | DISABLE][DO sql_statement] ä¸´æ—¶å…³é—­äº‹ä»¶ALTER EVENT e_test DISABLE; å¼€å¯äº‹ä»¶ALTER EVENT e_test ENABLE; æ—¶é—´ç‚¹ä¿®æ”¹ALTER EVENT e_test ON SCHEDULE EVERY 5 DAY; åˆ é™¤äº‹ä»¶(DROP EVENT)è¯­æ³•DROP EVENT [IF EXISTS] event_name æ¡ˆä¾‹123456789101112delimiter //create procedure `Slave_Monitor`()beginSELECT VARIABLE_VALUE INTO @SLAVE_STATUSFROM information_schema.GLOBAL_STATUSWHERE VARIABLE_NAME=&apos;SLAVE_RUNNING&apos;;IF (&apos;ON&apos;!= @SLAVE_STATUS) THENSET GLOBAL SQL_SLAVE_SKIP_COUNTER=0;SLAVE START;END IF;end; //delimiter ; 1234CREATE EVENT IFNOT EXISTS `Slave_Monitor`ON SCHEDULE EVERY 5 SECONDON COMPLETION PRESERVEDO CALL Slave_Monitor();]]></content>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Linuxå‘½ä»¤æŸ¥çœ‹ç¡¬ä»¶ä¿¡æ¯]]></title>
    <url>%2F2016%2F07%2F20%2F%E4%BD%BF%E7%94%A8Linux%E5%91%BD%E4%BB%A4%E6%9F%A5%E7%9C%8B%E7%A1%AC%E4%BB%B6%E4%BF%A1%E6%81%AF%2F</url>
    <content type="text"><![CDATA[åœ¨linuxæ£€æŸ¥å’ŒæŸ¥çœ‹ç¡¬ä»¶ä¿¡æ¯æœ‰åˆ†å¾ˆå¤šå‘½ä»¤ï¼Œè¿™é‡Œåˆ—å‡ºä¸€äº›å‘½ä»¤å¿«é€ŸæŸ¥çœ‹linuxçš„cpuå’Œå†…å­˜ç­‰ä¿¡æ¯ã€‚ lscpu ç›´æŽ¥ä½¿ç”¨å³å¯ï¼Œæ²¡æœ‰å¤šä½™çš„é€‰é¡¹å’ŒåŠŸèƒ½ lspci å¯ä»¥åˆ—å‡ºæ‰€æœ‰è¿žæŽ¥åˆ°PCIæ€»çº¿çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šæ˜¾å¡ï¼Œç½‘å¡ï¼ŒUSBæŽ¥å£åŠSATAæŽ§åˆ¶å™¨ç­‰è®¾å¤‡ã€‚ â€‹ å¯ä»¥ä½¿ç”¨ç±»ä¼¼å¦‚ä¸‹å‘½ä»¤è¿‡æ»¤å‡ºç‰¹å®šçš„è®¾å¤‡ä¿¡æ¯ 1lspci -v | grep &quot;VGA&quot; -A 12 lshw é€šç”¨å·¥å…·ï¼Œå¯ä»¥æ‰§è¡Œå¤šä¸ªç¡¬ä»¶å¦‚CPUï¼Œç¡¬ä»¶ï¼ŒUSBæŽ§åˆ¶å™¨åŠç£ç›˜ç­‰è¯¦ç»†ä¿¡æ¯ã€‚åœ¨æ‰§è¡Œä¹‹åŽä¼šè‡ªåŠ¨æå–ä¸åŒâ€/procâ€æ–‡ä»¶ä¸­çš„ä¿¡æ¯ã€‚ lsusb æ˜¾ç¤ºè¿žæŽ¥åˆ°æ­¤è®¡ç®—æœºçš„USBæŽ§åˆ¶å™¨çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨-vé€‰é¡¹æ¥è¾“å‡ºæ¯ä¸ªusbç«¯å£çš„è¯¦ç»†ä¿¡æ¯ã€‚ lnxi ç”¨æ¥èŽ·å–å¤šé¡¹ç›®ç¡¬ä»¶ä¿¡æ¯çš„è„šæœ¬å·¥å…·ï¼Œå¯ä»¥ä¸ºç”¨æˆ·è¾“å…¥ä¸€ä¸ªè¯¦ç»†çš„ç¡¬ä»¶æŠ¥å‘Šï¼Œé»˜è®¤æœªå®‰è£…åœ¨ubuntuç³»ç»Ÿå½“ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š sudo apt-get install inxiä½¿ç”¨ inxi -Fx è¾“å‡ºç¡¬ä»¶æŠ¥å‘Š df è¾“å‡ºå½“å‰Linuxç³»ç»Ÿä¸­ä¸ªå„ç§åˆ†åŒºåŠå…¶æŒ‚è½½ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨-Hå‚æ•°df -H free æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„å†…å­˜ä¿¡æ¯free -m dmidecode ä¸»è¦é€šè¿‡è¯»å–DMIè¡¨ä¸­æ•°æ®æ¥æå–ç¡¬ä»¶ä¿¡æ¯ã€‚æŸ¥çœ‹CPUä¿¡æ¯sudo dmidecode -t processor æŸ¥çœ‹å†…å­˜ä¿¡æ¯sudo dmidecode -t memory æŸ¥çœ‹BIOSä¿¡æ¯ sudo dmidecode -t bios hdparm è¯»å–SATAè®¾å¤‡ï¼ˆeg.ç¡¬ç›˜ï¼‰çš„ç›¸å…³ä¿¡æ¯sudo hdparm]]></content>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[windowæ·»åŠ sublimeå³é”®èœå•]]></title>
    <url>%2F2016%2F06%2F28%2Fwindow%E6%B7%BB%E5%8A%A0sublime%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%2F</url>
    <content type="text"><![CDATA[1.æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨ï¼Œå¼€å§‹-&gt;è¿è¡Œ-&gt;regeditã€‚ 2.åœ¨HKEY_CLASSSES_ROOTâ†’ * â†’ Shell ä¸‹ï¼Œåœ¨Shellä¸‹ï¼Œæ–°å»ºé¡¹å‘½åä¸ºOpen With Sublime Textï¼Œåœ¨è¯¥æ–°å»ºé¡¹çš„å³è¾¹çª—å£æ–°å»ºå­—ç¬¦ä¸²å€¼ï¼ˆå³é”®â€“æ–°å»ºâ€“å­—ç¬¦ä¸²å€¼ï¼‰ã€‚åç§°ï¼šIconï¼›å€¼ï¼šD:\Program Files\Sublime Text 3\sublime_text.exe,0 ã€æ³¨ï¼šä½¿ç”¨æ‚¨è‡ªå·±çš„å®‰è£…æ–‡ä»¶ç›®å½•ã€‘ã€‚ 3.åœ¨æ–°å»ºçš„é¡¹Open With Sublime Textä¸‹é¢æ–°å»ºé¡¹Commandï¼ˆå¿…é¡»è¿™ä¸ªåç§°ï¼‰.ä¿®æ”¹Commandé¡¹å³ä¾§çª—å£çš„é»˜è®¤å€¼ï¼Œä¿®æ”¹ä¸ºï¼šâ€D:\Program Files\Sublime Text 3\sublime_text.exeâ€ â€œ%1â€ã€æ³¨ï¼šä½¿ç”¨æ‚¨è‡ªå·±çš„å®‰è£…æ–‡ä»¶ç›®å½•ã€‘ï¼ŒåŒå¼•å·ä¸€å®šè¦åŠ ï¼Œå¦åˆ™æ— æ³•æ‰“å¼€è·¯å¾„å¸¦ç©ºæ ¼çš„æ–‡ä»¶ï¼Œè¿™æ ·å°±å¤§åŠŸå‘Šæˆäº†ã€‚]]></content>
      <tags>
        <tag>sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLä¿®æ”¹å¯†ç ]]></title>
    <url>%2F2016%2F06%2F27%2FMySQL%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%2F</url>
    <content type="text"><![CDATA[è®°å½•MySQLä¿®æ”¹å¯†ç çš„å‡ ç§æ–¹å¼ ç”¨SET PASSWORDå‘½ä»¤é¦–å…ˆç™»å½•MySQLã€‚æ ¼å¼ï¼šmysql&gt; set password for ç”¨æˆ·å@localhost = password(â€˜æ–°å¯†ç â€™);ä¾‹å­ï¼šmysql&gt; set password for root@localhost = password(â€˜123â€™); ç”¨mysqladminæ ¼å¼ï¼šmysqladmin -uç”¨æˆ·å -pæ—§å¯†ç  password æ–°å¯†ç ä¾‹å­ï¼šmysqladmin -uroot -p123456 password 123 ç”¨UPDATEç›´æŽ¥ç¼–è¾‘userè¡¨é¦–å…ˆç™»å½•MySQLã€‚mysql&gt; use mysql;mysql&gt; update user set password=password(â€˜123â€™) where user=â€™rootâ€™ and host=â€™localhostâ€™;mysql&gt; flush privileges; åœ¨å¿˜è®°rootå¯†ç çš„æ—¶å€™ï¼Œå¯ä»¥è¿™æ ·ä»¥windowsä¸ºä¾‹ï¼š å…³é—­æ­£åœ¨è¿è¡Œçš„MySQLæœåŠ¡ã€‚ æ‰“å¼€DOSçª—å£ï¼Œè½¬åˆ°mysql\binç›®å½•ã€‚ è¾“å…¥mysqld â€“skip-grant-tables å›žè½¦ã€‚â€“skip-grant-tables çš„æ„æ€æ˜¯å¯åŠ¨MySQLæœåŠ¡çš„æ—¶å€™è·³è¿‡æƒé™è¡¨è®¤è¯ã€‚ å†å¼€ä¸€ä¸ªDOSçª—å£ï¼ˆå› ä¸ºåˆšæ‰é‚£ä¸ªDOSçª—å£å·²ç»ä¸èƒ½åŠ¨äº†ï¼‰ï¼Œè½¬åˆ°mysql\binç›®å½•ã€‚ è¾“å…¥mysqlå›žè½¦ï¼Œå¦‚æžœæˆåŠŸï¼Œå°†å‡ºçŽ°MySQLæç¤ºç¬¦ &gt;ã€‚ è¿žæŽ¥æƒé™æ•°æ®åº“ï¼š use mysql; ã€‚ æ”¹å¯†ç ï¼šupdate user set password=password(â€œ123â€) where user=â€rootâ€;ï¼ˆåˆ«å¿˜äº†æœ€åŽåŠ åˆ†å·ï¼‰ ã€‚ åˆ·æ–°æƒé™ï¼ˆå¿…é¡»æ­¥éª¤ï¼‰ï¼šflush privileges; ã€‚ é€€å‡º quitã€‚ æ³¨é”€ç³»ç»Ÿï¼Œå†è¿›å…¥ï¼Œä½¿ç”¨ç”¨æˆ·årootå’Œåˆšæ‰è®¾ç½®çš„æ–°å¯†ç 123ç™»å½•ã€‚]]></content>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexoåŒæ­¥]]></title>
    <url>%2F2016%2F06%2F22%2Fhexo%E5%90%8C%E6%AD%A5%2F</url>
    <content type="text"><![CDATA[ç®€è¦ä»‹ç»ä¸€ä¸‹hexoæ­å»ºçš„github pageåŒæ­¥è¿‡ç¨‹ã€‚ æˆ‘å·²ç»åœ¨githubä¸Šå»ºç«‹äº†hexoçš„æºç åˆ†æ”¯hexoï¼Œä»¥åŠä¸»é¡µåˆ†æ”¯masterã€‚è¿‡ç¨‹ï¼š å‡†å¤‡å·¥ä½œ git(Cygwin)ï¼Œnodejs(win10)å®‰è£… ä¾æ¬¡æ‰§è¡Œçš„å‘½ä»¤ git clone -b hexo git@github.com:silloy/silloy.github.io.git hexo cd hexo npm install -g hexo-cli npm install npm install hexo-deployer-git npm install -g npm-check npm-check -u ï¼ˆnpm-check -u -gï¼‰ å®‰è£…å…¶ä»–ä¾èµ–åŒ… https://github.com/theme-next/theme-next-canvas-nest https://github.com/theme-next/theme-next-fancybox3 https://github.com/theme-next/theme-next-pace å‚è€ƒèµ„æ–™ï¼š ä½¿ç”¨hexoï¼Œå¦‚æžœæ¢äº†ç”µè„‘æ€Žä¹ˆæ›´æ–°åšå®¢ï¼Ÿ]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vmçŽ¯å¢ƒå®‰è£…linuxmint]]></title>
    <url>%2F2016%2F05%2F14%2Fvm%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85linuxmint%2F</url>
    <content type="text"><![CDATA[é€‰æ‹©è½»é‡çº§Linuxç³»ç»Ÿlinuxmintæ­å»ºéœ€è¦ï¼Œåšæœ¬åœ°æµ‹è¯• å‡†å¤‡å·¥ä½œ linux mintä¸‹è½½ï¼šlinuxmint-17.3-kde-64bit.iso vmvare workstation 12 player å®‰è£… å®‰è£…è¿‡ç¨‹ä¸å†å™è¿°ï¼Œå…¨ç¨‹å‚»ç“œå¼å®‰è£… åŸºæœ¬è®¾ç½® åˆ†è¾¨çŽ‡ï¼Œå£çº¸ï¼Œ è¯­è¨€ å¸è½½è£…æœºè½¯ä»¶ libreoffice sudo apt-get purge libreoffice?or sudo aptitude purge libreoffice?or sudo apt-get remove --purge libreoffice* è®¾ç½®è½¯ä»¶æºï¼Œå¹¶æ›´æ–°ç³»ç»Ÿ sudo apt-get update sudo apt-get upgrade mainé€‰æ‹©ï¼š ustc baseé€‰æ‹©ï¼š aliyun æµè§ˆå™¨ä¸»é¡µï¼Œæœç´¢å¼•æ“Žè®¾ç½®å®‰è£…GuakeTerminal sudo apt-get install guake docs: GuakeTerminalâ”€â”€linuxä¸‹å®Œç¾Žå¸…æ°”çš„ç»ˆç«¯ å®‰è£…VMWARE toolså®‰è£…è¾“å…¥æ³•(ä¸é€‚ç”¨äºŽlinuxmint18) sudo add-apt-repository ppa:fcitx-team/nightly sudo aptitude update sudo aptitude install fcitx fcitx-sogoupinyin fcitx-config-gtk fcitx-frontend-all fcitx-module-cloudpinyin fcitx-ui-classic ä¸‹è½½sogou for linux , æ‰“å¼€im-configè®¾ç½®fcitxï¼Œå®‰è£…sougou reboot é…ç½®æ–‡ä»¶ï¼ˆæ³¨æ„å–æ¶ˆonly show current languageï¼‰ å®‰è£…markdownç¼–è¾‘å™¨ æŽ¨è cmd_markdown å¼€å‘å¸¸ç”¨è½¯ä»¶ docsï¼šLinux mint å®‰è£…JAVA jdk jre sudo apt-get install default-jre open-jdk sudo apt-get install default-jdk jdk sudo add-apt-repository ppa:webupd8team/java sudo apt-get update sudo apt-get install oracle-java8-installer sudo apt-get install oracle-java8-set-default docsï¼š æ€Žæ ·åœ¨Ubuntu 14.04ä¸­å®‰è£…JavaLinuxä¸‹é…ç½®JavaçŽ¯å¢ƒå˜é‡]]></content>
      <tags>
        <tag>linux-mint</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OracleåŸºç¡€å‘½ä»¤]]></title>
    <url>%2F2016%2F05%2F09%2FOracle%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[ä¸»æµå…³ç³»åž‹æ•°æ®åº“: Oracleï¼ŒDB2ï¼ŒSybaseï¼ŒSQL serverï¼ŒMySQLè¿™é‡Œä¸»è¦è®°å½•ä¸€ä¸‹oracleæ•°æ®åº“åˆæ­¥å­¦ä¹ è¿‡ç¨‹ï¼Œæ¶‰åŠå°‘é‡ä¸Žmysqlçš„ä¸åŒè®¨è®ºã€‚åŸºæœ¬çš„SQLçŸ¥è¯† SQLï¼ˆStructured Query Languageï¼‰å¸¸ç”¨å…³é”®å­— SQLå¯åˆ†ä¸º æ•°æ®å®šä¹‰è¯­è¨€DDL: CREATE, ALTER, DROP, TRUNCATE æ•°æ®æ“çºµè¯­è¨€DML: INSERT, UPDATE, DELETE äº‹åŠ¡æŽ§åˆ¶è¯­è¨€TCL: COMMIT, ROLLBACK, SAVEPOINT æ•°æ®æŸ¥è¯¢è¯­è¨€DQL: SELECT æ•°æ®æŽ§åˆ¶è¯­è¨€DCL: GRANT, REVOKE, CREATE USER NUMBER: æ•°å­—ç±»åž‹ å®šä¹‰: NUMBERï¼ˆPï¼ŒSï¼‰ FYI: MySQLé‡Œæ²¡æœ‰numberç±»åž‹ï¼Œå¯¹åº”çš„æ˜¯intï¼Œfloatâ€¦â€¦ CHAR: å›ºå®šé•¿åº¦çš„å­—ç¬¦ç±»åž‹ å®šä¹‰: CHAR(N) æœ€å¤šä¿å­˜2000å­—èŠ‚ FYI: å¯¹åº”MySQLé‡Œçš„CHAR VARCHAR2: å˜é•¿çš„å­—ç¬¦ç±»åž‹ å®šä¹‰: VARCHAR2(N) æœ€å¤šä¿å­˜4000å­—èŠ‚ FYI: å¯¹åº”MySQLé‡Œçš„VARCHAR DATE: æ—¥æœŸæ—¶é—´æ•°æ® é»˜è®¤æ ¼å¼: DD-MON-RR DEFAULT: æŒ‡å®šé»˜è®¤å€¼ NOT NULL: éžç©ºçº¦æŸ DROP åˆ é™¤åˆ—æˆ–è¡¨ LONG: VARCHAR2åŠ é•¿ç‰ˆ é™åˆ¶: æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªlongåˆ—ï¼Œä¸èƒ½ä½œä¸ºä¸»é”®ï¼Œä¸èƒ½å»ºç«‹ç´¢å¼•ï¼Œä¸èƒ½å‡ºçŽ°åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­ FYI: MySQLæ²¡æœ‰longåž‹ CLOB: å­˜å‚¨å®šé•¿æˆ–å˜é•¿å­—ç¬¦ä¸²ï¼Œoracleå»ºè®®ä½¿ç”¨clobæ›¿ä»£longåž‹ æ‰§è¡ŒDMLæ“ä½œåŽï¼Œéœ€è¦åœ¨æ‰§è¡Œcommitï¼Œæ‰ç®—çœŸæ­£ç¡®è®¤äº†æ­¤æ“ä½œ å¸¸ç”¨å‡½æ•° UPPER, LOWER, INITCAP: å¤§å°å†™è½¬æ¢ TRIM, LTRIM, RTRIM: æˆªåŽ»å­ä¸² LPAD, RPAD: è¡¥ä½å‡½æ•° LPAD(char1, n, char2) RPAD(char1, n, char2) SUBSTR: èŽ·å–å­ä¸² SUBSTR(char, m[, n]) INSTR: è¿”å›žå­ä¸²åœ¨çˆ¶ä¸²ä¸­çš„ä½ç½® INSTR(char1, char2[, n[, m]]) n: å¼€å§‹æœç´¢çš„ä½ç½®ï¼Œé»˜è®¤ä¸º1 m: æŒ‡å®šå­ä¸²ç¬¬mæ¬¡å‡ºçŽ°ï¼Œé»˜è®¤ä¸º1 æ²¡æ‰¾åˆ°ï¼Œè¿”å›ž0 ROUNDï¼šå››èˆäº”å…¥ ROUND(n[, m]) n: å¯ä»¥æ˜¯ä»»ä½•æ•°å­—ï¼ŒæŒ‡è¦è¢«å¤„ç†çš„æ•°å­— mï¼šå¿…é¡»æ˜¯æ•´æ•°ï¼Œå››èˆäº”å…¥çš„ä½æ•°ï¼Œå¯ä»¥æ˜¯è´Ÿæ•°ï¼Œé»˜è®¤æ˜¯0 MOD: å–ä½™ MOD(m, n) nä¸º0ç›´æŽ¥è¿”å›žm CEIL CEIL(n) FLOOR FLOOR(n) CONCAT, â€œ||â€ æ—¥æœŸæ“ä½œ DATE èŒƒå›´ï¼šå…¬å…ƒå‰4712å¹´1æœˆ1æ—¥è‡³å…¬å…ƒ9999å¹´12æœˆ31æ—¥ å ç”¨7ä¸ªå­—èŠ‚ byte 1: ä¸–çºª+100 byte 2: å¹´ byte 3: æœˆ byte 4: æ—¥ byte 5: å°æ—¶ + 1 byte 6: åˆ† + 1 byte 7: ç§’ + 1 TIMESTAMP æœ€é«˜ç²¾åº¦å¯ä»¥åˆ°ns å ç”¨7æˆ–è€…11ä¸ªå­—èŠ‚ï¼Œç²¾åº¦ä¸º0ï¼Œç”¨7å­—èŠ‚å­˜å‚¨ï¼Œç²¾åº¦å¤§äºŽ0ç”¨11å­—èŠ‚å­˜å‚¨ ç²¾åº¦ï¼šç¬¬8-11å­—èŠ‚ï¼Œå†…éƒ¨è¿ç®—ç±»åž‹ä¸ºæ•´åž‹ SYSDATE: SystemDate SYSTIMESTAMP: è¿”å›žå½“å‰ç³»ç»Ÿæ—¥æœŸå’Œæ—¶é—´ï¼Œç²¾ç¡®åˆ°æ¯«ç§’ TO_DATEï¼šå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸç±»åž‹ TO_DATE(char[, fmt[, nlsparams]]) fmt: æ ¼å¼ nlsparams: æŒ‡å®šæ—¥æœŸè¯­è¨€ TO_CHAR TO_CHAR(date[, fmt[, nlsparams]]) LAST_DAY LAST_DAY(date): è¿”å›žæ—¥æœŸdateæ‰€åœ¨æœˆçš„æœ€åŽä¸€å¤© ADD_MONTHS ADD_MONTHS(date, i) MONTHS_BETWEEN MONTHS_BETWEEN(date1, date2): è®¡ç®—æœˆä»½å·® NEXT_DAY NEXT_DAY(date, char): è¿”å›ždateæ—¥æœŸçš„ä¸‹ä¸€ä¸ªå‘¨å‡  LEAST, GREATEST GREATEST(expr1[,expr2[, expr3]]â€¦) EXTRACT EXTRACT(date from datetime): æå–æ—¥æœŸä¸­çš„å¹´ã€æœˆã€æ—¥ç­‰ ç©ºå€¼æ“ä½œ NVL NVL(expr1, expr2): expr1ä¸ºnullåˆ™è½¬å˜ä¸ºexpr2ï¼Œæ•°æ®ç±»åž‹å¿…é¡»ä¸€è‡´ NVL2 NVL2(expr1, expr2, expr3): expr1éžnullè¿”å›žæˆ‘æƒ³expr2ï¼Œä¸ºnullè¿”å›žexpr3 é«˜çº§æŸ¥è¯¢å­æŸ¥è¯¢åˆ†é¡µæŸ¥è¯¢ ROWNUMï¼šä¼ªåˆ—ï¼Œç”¨äºŽè¿”å›žæ ‡è¯†è¡Œæ•°æ®é¡ºåºçš„æ•°å­— åªèƒ½ä»Ž1è®¡æ•°ï¼Œä¸èƒ½ä»Žç»“æžœé›†ä¸­ç›´æŽ¥æˆªå– éƒ¨åˆ†æ•°æ®éœ€è¦ç”¨åˆ°è¡Œå†…è§†å›¾ PageN: (n - 1) pageSize + 1 ~ n pageSize DECODEå‡½æ•° DECODE(expr, search1, result1[,search2, result2â€¦.][, default]) ç”¨é€”ï¼š æ¯”è¾ƒexprçš„å€¼ï¼Œè‹¥åŒ¹é…åˆ°å“ªä¸€ä¸ªsearchï¼Œè¿”å›žå¯¹åº”resultï¼Œç±»ä¼¼äºŽcaseè¯­å¥ åº”ç”¨åœºæ™¯ï¼š åˆ†ç»„æŸ¥è¯¢ 12SELECT DECODE(job, &apos;ANALYST&apos;, &apos;VIP&apos;, &apos;MANAGER&apos;, &apos;VIP&apos;, &apos;OPERATION&apos;)job, COUNT(1)job_count FROM emp GROUP BY DECODE(job, &apos;ANALYST&apos;, &apos;VIP&apos;, &apos;MANAGER&apos;, &apos;VIP&apos;, &apos;OPERATION&apos;); å­—æ®µå†…å®¹æŽ’åºORDER BY DECODE(job, &#39;ANALYST&#39;, &#39;1&#39;, &#39;MANAGER&#39;, &#39;2&#39;, &#39;OPERATION&#39;, &#39;3&#39;) ROW_NUMBERå‡½æ•° ROW_NUMBER() OVER(PARTITION BY col1 ORDER BY col2): æ ¹æ®col1åˆ†ç»„ï¼Œåœ¨åˆ†ç»„å†…éƒ¨æ ¹æ®col2æŽ’åº æ­¤å‡½æ•°è®¡ç®—çš„å€¼æ ‡è¯†æ¯ç»„å†…éƒ¨æŽ’åºåŽçš„é¡ºåºç¼–å·ï¼Œç»„å†…è¿žç»­ä¸”å”¯ä¸€ RANK_NUMBERå‡½æ•° ç±»ä¼¼äºŽROW_NUMBER, è·³è·ƒæŽ’åºï¼Œå¯ä»¥æœ‰é‡å¤å€¼ DENSE_RANK ç±»ä¼¼äºŽRANK_NUMBER, è¿žç»­æŽ’åºï¼Œæœ‰é‡å¤ï¼Œæ— è·³è·ƒ UNION UNION: è‡ªåŠ¨åˆå¹¶åŽ»é‡ï¼ŒæŽ’åº UINION ALLï¼šåˆå¹¶ä¸åŽ»é‡ï¼Œä¸æŽ’åº INTERSECTï¼šäº¤é›† MINUSï¼šå·®é›† é«˜çº§åˆ†ç»„å‡½æ•° ROLLUP: ä»Žå³å‘å·¦ä»¥ä¸€æ¬¡å°‘ä¸€åˆ—çš„æ–¹å¼ç»„åˆç›´åˆ°æ‰€æœ‰åˆ—éƒ½åŽ»æŽ‰ GROUP BY ROLLUP(a, b, c) CUBE: æ‰€ä»¥ç»´åº¦çš„å–å€¼é›†åˆ GROUP BY CUBE(a, b, c) GROUPING SETS: GROUP BY GROUPING SETS(a, b, c) è§†å›¾ è§†å›¾(VIEW) ä¹Ÿç§°è™šè¡¨ï¼Œæ˜¯ä¸€ç»„æ•°æ®çš„é€»è¾‘è¡¨ç¤ºï¼Œå¯¹åº”äºŽä¸€æ¡selectè¯­å¥ åˆ†ç±»ï¼š ç®€å•è§†å›¾ å¤æ‚è§†å›¾ è¿žæŽ¥è§†å›¾ ä½œç”¨ï¼š ç®€åŒ–å¤æ‚æŸ¥è¯¢ é™åˆ¶æ•°æ®è®¿é—® GRANT CREATE VIEW TO user; é™åˆ¶çº¦æŸ [WITH CHECK OPTION] [WITH READ ONLY] åºåˆ— åˆ›å»ºåºåˆ— CREATE SEQUENCE[schema.]sequence_name[START WITH i][INCREMENT BY j][MAXVALUE m | NOMAXVALUE][MINVALUE n | NOMINVALUE][CYCLE | NOCYCLE][CACHE p | NOCACHE] ä½¿ç”¨åºåˆ— NEXTVAL: èŽ·å–åºåˆ—çš„ä¸‹ä¸ªå€¼ CURRVALï¼šèŽ·å–åºåˆ—çš„å½“å‰å€¼ ç´¢å¼• ç´¢å¼•(INDEX)æ˜¯ä¸€ç§å…è®¸ç›´æŽ¥è®¿é—®æ•°æ®è¡¨ä¸­æŸä¸€æ•°æ®è¡Œçš„æ•°æ®ç»“æž„ï¼Œä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆçŽ‡è€Œå¼•å…¥ï¼Œæ˜¯ç‹¬ç«‹äºŽè¡¨çš„å¯¹è±¡ï¼Œå¯ä»¥å­˜æ”¾ä¸Žè¡¨ä¸åŒçš„è¡¨ç©ºé—´ä¸­ Syntaxï¼š CREATE [UNIQUE] INDEX index_name ON table(column[, columnâ€¦]); UNIQUEè¡¨ç¤ºå”¯ä¸€ç´¢å¼• çº¦æŸ éžç©ºçº¦æŸ NOT NULL å”¯ä¸€æ€§çº¦æŸ UNIQUE ä¸»é”®çº¦æŸ PRIMARY KEY å¤–é”®çº¦æŸ FOREIGN KEY æ£€æŸ¥çº¦æŸ CHECK]]></content>
      <tags>
        <tag>oracle</tag>
      </tags>
  </entry>
</search>
